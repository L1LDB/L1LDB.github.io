---
title: "ğŸ¦Š chap12. ìƒˆë¡œìš´ ë‚ ì§œì™€ ì‹œê°„ API"
author: gengminy
date: 2023-12-31 18:40:00 +09:00
categories: [ëª¨ë˜ ìë°” ì¸ ì•¡ì…˜, "chap12. ìƒˆë¡œìš´ ë‚ ì§œì™€ ì‹œê°„ API"]
tags: [ëª¨ë˜ ìë°” ì¸ ì•¡ì…˜, JAVA, 11ì£¼ì°¨, ë…¸ê²½ë¯¼]
render_with_liquid: false
math: true
---

# chap12. ìƒˆë¡œìš´ ë‚ ì§œì™€ ì‹œê°„ API

# 12.1 LocalDate, LocalTime, Instant, Duration, Period í´ë˜ìŠ¤

### 12.1.1 LocalDateì™€ LocalTime ì‚¬ìš©

LocalDate ì¸ìŠ¤í„´ìŠ¤ëŠ” ì‹œê°„ì„ ì œì™¸í•œ ë‚ ì§œë¥¼ í‘œí˜„í•˜ëŠ” ë¶ˆë³€ ê°ì²´ë‹¤.

```java
LocalDate date = LocalDate.of(2017, 9, 21);
int year = date.getYear();
Month month = date.getMonth();
int day = date.getDayOfMonth();
DayOfWeek dow = date.getDayOfWeek();
int len = date.lengthOfMonth();
boolean leap = date.isLeapYear();
```

íŒ©í† ë¦¬ ë©”ì„œë“œ now ëŠ” ì‹œìŠ¤í…œ ì‹œê³„ì˜ ì •ë³´ë¥¼ ì´ìš©í•´ì„œ í˜„ì¬ ë‚ ì§œ ì •ë³´ë¥¼ ì–»ëŠ”ë‹¤.

```java
LocalDate today = LocalDate.now();
```

get ë©”ì„œë“œì— TemporalField ì¸í„°í˜ì´ìŠ¤ë¥¼ ì „ë‹¬í•´ì„œ ì •ë³´ë¥¼ ì–»ëŠ” ë°©ë²•ë„ ìˆë‹¤.

ì—´ê±°ì ChronoField ëŠ” TemporalField ì¸í„°í˜ì´ìŠ¤ë¥¼ ì •ì˜í•œë‹¤.

```java
int year = date.get(ChronoField.YEAR);
int month = date.get(ChronoField.MONTH_OF_YEAR);
int day = date.get(ChronoField.DAY_OF_MONTH);
```

ë‚´ì¥ ë©”ì„œë“œë¥¼ ì´ìš©í•´ ê°€ë…ì„±ì„ ë†’ì¼ ìˆ˜ë„ ìˆë‹¤.

```java
int year = date.getYear();
int month = date.getMonthValue();
int day = date.getDayOfMonth();
```

ì‹œê°„ì„ LocalTime í´ë˜ìŠ¤ë¡œ í‘œí˜„í•  ìˆ˜ë„ ìˆë‹¤.

```java
LocalTime time = LocalTime.of(13, 45, 20);
int hour = time.getHour();
int minute = time.getMinute();
int second = time.getSecond();
```

ë‚ ì§œì™€ ì‹œê°„ ë¬¸ìì—´ë¡œ parse ì •ì  ë©”ì„œë“œë¥¼ í˜¸ì¶œí•´ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ë„ ìˆë‹¤.

```java
LocalDate date = LocalDate.parse("2017-09-21");
LocalTime time = LocalTime.parse("13:45:20");
```

parse ë©”ì„œë“œì—ëŠ” DateTimeFormatter ë¥¼ ì „ë‹¬í•  ìˆ˜ë„ ìˆë‹¤.

### 12.1.2 ë‚ ì§œì™€ ì‹œê°„ ì¡°í•©

LocalDateTime ì€ LocalDate ì™€ LocalTime ì„ ìŒìœ¼ë¡œ ê°–ëŠ” ë³µí•© í´ë˜ìŠ¤ì´ë‹¤.

```java
LocalDateTime dt1 = LocalDateTime.of(2017, Month.SEPTEMBER, 21, 13, 45, 20);
LocalDateTime dt2 = LocalDateTime.of(date, time);
LocalDateTime dt3 = date.atTime(13, 45, 20);
LocalDateTime dt4 = date.atTime(time);
LocalDateTime dt5 = time.atDate(date);
```

LocalDateTime ì—ì„œ ê° ì¸ìŠ¤í„´ìŠ¤ë¥¼ ì¶”ì¶œí•  ìˆ˜ë„ ìˆë‹¤.

```java
LocalDate date1 = dt1.toLocalDate();
LocalTime time1 = dt1.toLocalTime();
```

### 12.1.3 Instant í´ë˜ìŠ¤ : ê¸°ê³„ì˜ ë‚ ì§œì™€ ì‹œê°„

ê¸°ê³„ì˜ ê´€ì ì—ì„œëŠ” ì—°ì†ëœ ì‹œê°„ì—ì„œ íŠ¹ì • ì§€ì ì„ í•˜ë‚˜ì˜ í° ìˆ˜ë¡œ í‘œí˜„í•˜ëŠ” ê²ƒì´ ê°€ì¥ ìì—°ìŠ¤ëŸ¬ìš´ ì‹œê°„ í‘œí˜„ ë°©ì‹ì´ë‹¤.

`java.time.Instant` í´ë˜ìŠ¤ì—ì„œëŠ” ê¸°ê³„ì ì¸ ê´€ì ì—ì„œ ì‹œê°„ì„ í‘œí˜„í•œë‹¤.

ì´ëŠ” ìœ ë‹‰ìŠ¤ ì—í¬í¬ ì‹œê°„ `Unix epoch time, 1970-01-01 00:00:00 UTC`ì„ ê¸°ì¤€ìœ¼ë¡œ íŠ¹ì • ì‹œì ê¹Œì§€ì˜ ì‹œê°„ì„ ì´ˆë¡œ í‘œí˜„í•œë‹¤.

```java
Instant.ofEpochSecond(3);
Instant.ofEpochSecond(3, 0);
Instant.ofEpochSecond(2, 1_000_000_000);
Instant.ofEpochSecond(4, -1_000_000_000);
```

Instant í´ë˜ìŠ¤ë„ ì‚¬ëŒì´ í™•ì¸í•  ìˆ˜ ìˆë„ë¡ ì‹œê°„ì„ í‘œì‹œí•´ì£¼ëŠ” ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ now ë¥¼ ì œê³µí•œë‹¤.

Instant ëŠ” ì´ˆì™€ ë‚˜ë…¸ì´ˆ ì •ë³´ë¥¼ í¬í•¨í•œë‹¤.

ì´ë¥¼ ì½ê¸° ìœ„í•´ Duration ê³¼ Period í´ë˜ìŠ¤ë¥¼ í™œìš©í•  ìˆ˜ ìˆë‹¤.

### 12.1.4 Duration ê³¼ Period ì •ì˜

ì§€ê¸ˆê¹Œì§€ì˜ ëª¨ë“  í´ë˜ìŠ¤ëŠ” Temporal ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•œë‹¤.

Duration í´ë˜ìŠ¤ì˜ ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œ between ìœ¼ë¡œ ë‘ ì‹œê°„ ê°ì²´ ì‚¬ì´ì˜ ì§€ì†ì‹œê°„ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
Duration d1 = Duration.between(time1, time2);
Duration d2 = Duration.between(dateTime1, dateTime2);
Duration d3 = Duration.between(instant1, instant2);
```

ë‹¤ë§Œ LocalDateTime ì€ ì‚¬ëŒì´ ì‚¬ìš©í•˜ë„ë¡, Instant ëŠ” ê¸°ê³„ê°€ ì‚¬ìš©í•˜ë„ë¡ ë§Œë“¤ì–´ì§„ í´ë˜ìŠ¤ë¡œ

ë‘ ì¸ìŠ¤í„´ìŠ¤ëŠ” ì„œë¡œ í˜¼í•©í•  ìˆ˜ ì—†ë‹¤.

ë…„, ì›” ì¼ë¡œ ì‹œê°„ì„ í‘œí˜„í•  ë•ŒëŠ” Period í´ë˜ìŠ¤ë¥¼ ì‚¬ìš©í•œë‹¤.

```java
Period tenDays = Period.between(LocalDate.of(2017, 9, 11),
															LocalDate.of(2017, 9, 21));
```

Duration ê³¼ Period í´ë˜ìŠ¤ëŠ” ìì‹ ì˜ ì¸ìŠ¤í„´ìŠ¤ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ë‹¤ì–‘í•œ íŒ©í† ë¦¬ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.

```java
Duration threeMinutes = Duration.ofMinutes(3);
Duration threeMinutes = Duration.of(3, ChronoUnit.MINUTES);

Period tenDays = Period.ofDays(10);
Period threeWeeks = Period.ofWeeks(3);
Period twoYearsSixMonthsOnday = Period.of(2, 6, 1);
```

ì§€ê¸ˆê¹Œì§€ì˜ ëª¨ë“  í´ë˜ìŠ¤ëŠ” ë¶ˆë³€ í´ë˜ìŠ¤ì´ë‹¤.

# 12.2 ë‚ ì§œ ì¡°ì •, íŒŒì‹±, í¬ë§¤íŒ…

`withArrtibute` ë©”ì„œë“œë¡œ ê¸°ì¡´ì˜ LocalDate ë¥¼ ë°”ê¾¼ ë²„ì „ì„ ì§ì ‘ ê°„ë‹¨í•˜ê²Œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
LocalDate date1 = LocalDate.of(2017, 9, 21);
LocalDate date2 = date1.withYear(2011);
LocalDate date3 = date2.withDayOfMonth(25);
LocalDate date4 = date3.with(ChronoField.MONTH_OF_YEAR, 2);
```

Temproal ì¸í„°í˜ì´ìŠ¤ëŠ” LocalDate, LocalTime, LocalDateTime, Instant ì²˜ëŸ¼ íŠ¹ì • ì‹œê°„ì„ ì •ì˜í•˜ê³ 

get ê³¼ with ë©”ì„œë“œë¡œ Temporal ê°ì²´ì˜ í•„ë“œê°’ì„ ì½ê±°ë‚˜ ê³ ì¹  ìˆ˜ ìˆë‹¤.

ë§Œì•½ ì§€ì •ëœ í•„ë“œë¥¼ ì§€ì›í•˜ì§€ ì•Šìœ¼ë©´ `UnsupportedTemporalTypeException` ì´ ë°œìƒí•œë‹¤.

ì„ ì–¸í˜•ìœ¼ë¡œ LocalDate ë¥¼ ì‚¬ìš©í•˜ëŠ” ë°©ë²•ë„ ìˆë‹¤.

```java
LocalDate date1 = LcoalDate.of(2017, 9, 21);
LocalDate date2 = date1.plusWeeks(1);
LocalDate date3 = date2.minusYears(6);
LocalDate date4 = date3.plus(6, ChronoUnit.MONTHS);
```

plus, minus ë©”ì„œë“œë„ Temporal ì¸í„°í˜ì´ìŠ¤ì— ì •ì˜ë˜ì–´ ìˆë‹¤.

ì´ë¥¼ í™œìš©í•´ íŠ¹ì • ì‹œê°„ë§Œí¼ ì•ë’¤ë¡œ ì´ë™ì‹œí‚¬ ìˆ˜ ìˆë‹¤.

ìˆ«ìì™€ TemporalUnit ì„ ì¸ìˆ˜ë¡œ í™œìš©í•  ìˆ˜ ìˆë‹¤.

### 12.2.1 TemporalAdjusters ì‚¬ìš©í•˜ê¸°

`TemporalAdjuster` ëŠ” with ë©”ì„œë“œì— ì¢€ ë” ë‹¤ì–‘í•œ ë™ì‘ì„ ìˆ˜í–‰í•  ìˆ˜ ìˆë„ë¡ í•˜ëŠ” ê¸°ëŠ¥ì„ ì œê³µí•œë‹¤.

```java
import static java.time.tempoal.TemporalAdjusters.*;

LocalDate date1 = LocalDate.of(2014, 3, 18);
LocalDate date2 = date1.with(nextOfSame(DayOfWeek.SUNDAY));
LocalDate date3 = date2.with(lastDayOfMonth());
```

í•„ìš”í•œ ê¸°ëŠ¥ì´ ì •ì˜ë˜ì–´ ìˆì§€ ì•Šì„ ë•ŒëŠ” ë¹„êµì  ì‰½ê²Œ ì»¤ìŠ¤í…€ TemporalAdjuster êµ¬í˜„ì„ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
@FunctionalInterface
public interface TemporalAdjuster {
	Temporal adjustInto(Temporal temporal);
}
```

TemporalAdjuster ì¸í„°í˜ì´ìŠ¤ êµ¬í˜„ì€ Temporal ê°ì²´ë¥¼ ì–´ë–»ê²Œ ë‹¤ë¥¸ Temporal ê°ì²´ë¡œ ë³€í™˜í•  ì§€ ì •ì˜í•œë‹¤.

### 12.2.2 ë‚ ì§œì™€ ì‹œê°„ ê°ì²´ ì¶œë ¥ê³¼ íŒŒì‹±

í¬ë§¤íŒ…ê³¼ íŒŒì‹± ì „ìš© íŒ¨í‚¤ì§€ì¸ `java.time.format` ì´ ì¶”ê°€ë˜ì—ˆë‹¤.

ê°€ì¥ ì¤‘ìš”í•œ í´ë˜ìŠ¤ëŠ” `DateTimeFormatter` ì´ë‹¤.

ì´ë¥¼ ì´ìš©í•´ì„œ ë‚ ì§œë‚˜ ì‹œê°„ì„ íŠ¹ì • í˜•ì‹ì˜ ë¬¸ìì—´ë¡œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
LocalDate date = LocalDate.of(2014, 3, 18);
String s1 = date.format(DateTimeFormatter.BASIC_ISO_DATE); // 20140318
String s2 = date.format(DateTimeFormatter.ISO_LOCAL_DATE); // 2014-03-18
```

ë°˜ëŒ€ë¡œ ë¬¸ìì—´ì„ íŒŒì‹±í•´ì„œ ë‚ ì§œ ê°ì²´ë¥¼ ë‹¤ì‹œ ë§Œë“¤ ìˆ˜ ìˆë‹¤.

```java
LocalDate date1 = LocalDate.parse("20140318", DateTimeFormatter.BASIC_ISO_DATE);
LocalDate date2 = LocalDate.parse("2014-03-18", DateTimeFormatter.ISO_LOCAL_DATE);
```

ê¸°ì¡´ `java.util.DateFormat` ê³¼ ë‹¬ë¦¬ ëª¨ë“  `DateTimeFormatter` ëŠ” ìŠ¤ë ˆë“œ ì•ˆì „í•œ í´ë˜ìŠ¤ì´ë‹¤.

ë˜í•œ íŠ¹ì • íŒ¨í„´ìœ¼ë¡œ í¬ë§¤í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆëŠ” ì •ì  íŒ©í† ë¦¬ ë©”ì„œë“œë„ ì œê³µí•œë‹¤.

```java
DateTimeFormatter formatter = DateTimeFormatter.ofPattern("dd/MM/yyyy");
LocalDate date1 = LocalDate.of(2014, 3, 18);
String formattedDate = date1.format(formatter);
LocalDate date2 = LocalDate.parse(formattedDate, formatter);
```

`ofPattern` ë©”ì„œë“œë„ Locale ë¡œ í¬ë§¤í„°ë¥¼ ë§Œë“¤ ìˆ˜ ìˆë„ë¡ ì˜¤ë²„ë¡œë“œëœ ë©”ì„œë“œë¥¼ ì œê³µí•œë‹¤.

```java
DateTimeFormatter italianFormatter =
			DateTimeFormatter.ofPattern("d. MMMM yyyy", Locale.ITALIAN);
...
```

DateTimeFormatterBuilder í´ë˜ìŠ¤ë¡œ ë³µí•©ì ì¸ í¬ë§¤í„°ë¥¼ ì •ì˜í•´ì„œ ì„¸ë¶€ì ìœ¼ë¡œ ì œì–´í•  ìˆ˜ë„ ìˆë‹¤.

```java
DateTimeFormatter italianFormatter = new DateTimeFormatterBuilder()
			.appendText(ChronoField.DAY_OF_MONTH)
			.appendLiteral(". ")
			.appendText(ChronoField.MONTH_OF_YEAR)
			.appendLiteral(" ")
			.appendText(ChronoField.YEAR)
			.parseCaseInsensitive()
			.toFormatter(Locale.ITALIAN);
```

# 12.3 ë‹¤ì–‘í•œ ì‹œê°„ëŒ€ì™€ ìº˜ë¦°í„° í™œìš© ë°©ë²•

ê¸°ì¡´ì˜ `java.util.TimeZone` ì„ ëŒ€ì²´í•  ìˆ˜ ìˆëŠ” `java.time.ZoneId` í´ë˜ìŠ¤ê°€ ìƒˆë¡­ê²Œ ë“±ì¥í–ˆë‹¤.

ì´ í´ë˜ìŠ¤ë¥¼ ì´ìš©í•˜ë©´ ì¨ë¨¸íƒ€ì„(DST) ê°™ì€ ë³µì¡í•œ ì‚¬í•­ì´ ìë™ìœ¼ë¡œ ì²˜ë¦¬ëœë‹¤.

ZoneId í´ë˜ìŠ¤ëŠ” ë¶ˆë³€ì´ë‹¤.

### 12.3.1 ì‹œê°„ëŒ€ ì‚¬ìš©í•˜ê¸°

`ZoneRules` í´ë˜ìŠ¤ì—ëŠ” ì•½ 40ê°œ ì •ë„ì˜ ì‹œê°„ëŒ€ê°€ ìˆê³ , getRules() ë¥¼ ì´ìš©í•´ í•´ë‹¹ ì‹œê°„ëŒ€ì˜ ê·œì •ì„ íšë“í•  ìˆ˜ ìˆë‹¤.

```java
ZoneId romeZone = ZoneId.of("Europe/Rome");
```

ì§€ì—­ ID ëŠ” `ì§€ì—­/ë„ì‹œ` í˜•ì‹ìœ¼ë¡œ ì´ë£¨ì–´ì§€ê³  `IANA Time Zone Datebase` ì—ì„œ ì œê³µí•˜ëŠ” ì§€ì—­ ì§‘í•© ì •ë³´ë¥¼ ì‚¬ìš©í•œë‹¤.

ZoneId ê°ì²´ë¥¼ ì–»ì€ ë‹¤ìŒì—ëŠ” LocalDate, LocalDateTime, Instant ë¥¼ ì´ìš©í•´ì„œ ZoneDateTime ì¸ìŠ¤í„´ìŠ¤ë¡œ ë³€í™˜í•  ìˆ˜ ìˆë‹¤.

```java
LocalDate date = LocalDate.of(2014, Month.MARCH, 18);
ZonedDateTime zdt1 = date.atStartOfDay(romeZone);
LocalDateTime dateTime = LocalDateTime.of(2014, Month.MARCH, 18, 13, 45);
ZonedDateTime zdt2 = dateTime.atZone(romeZone);
Instant instant = Instant.now();
ZonedDateTime zdt3 = instant.atZone(romeZone);
```

ZoneId ë¥¼ ì´ìš©í•´ì„œ LocalDateTime ì„ Instant ë¡œ ë°”ê¿€ ìˆ˜ ìˆë‹¤.

```java
Instant instant = Instant.now();
LocalDateTime timeFromInstant = LocalDateTime.ofInstant(instant, romeZone);
```

### 12.3.2 UTC/Greenwich ê¸°ì¤€ì˜ ê³ ì • ì˜¤í”„ì…‹

ë•Œë¡œëŠ” í˜‘ì • ì„¸ê³„ì‹œ(UTC)/ê·¸ë¦¬ë‹ˆì¹˜ í‘œì¤€ì‹œ(GMT) ë¥¼ ê¸°ì¤€ìœ¼ë¡œ í‘œí˜„í•˜ê¸°ë„ í•œë‹¤.

ZoneId ì˜ ì„œë¸Œí´ë˜ìŠ¤ì¸ ZoneOffset í´ë˜ìŠ¤ë¡œ ëŸ°ë˜ì˜ ê·¸ë¦¬ë‹ˆì¹˜ 0ë„ ìì˜¤ì„ ê³¼ ì‹œê°„ê°’ì˜ ì°¨ì´ë¥¼ í‘œí˜„í•  ìˆ˜ ìˆë‹¤.

```java
ZoneOffset newYorkOffset = ZoneOffset.of("-05:00");
```

ì´ëŠ” ì„œë¨¸íƒ€ì„ì„ ì œëŒ€ë¡œ ì²˜ë¦¬í•  ìˆ˜ ì—†ì–´ ê¶Œì¥í•˜ì§€ ì•ŠëŠ”ë‹¤.

ISO-8601 ìº˜ë¦°ë” ì‹œìŠ¤í…œì—ì„œ ì •ì˜í•˜ëŠ” UTC/GMT ì™€ ì˜¤í”„ì…‹ìœ¼ë¡œ ë‚ ì§œì™€ ì‹œê°„ì„ í‘œí˜„í•˜ëŠ” OffsetDateTime ì„ ë§Œë“œëŠ” ë°©ë²•ë„ ìˆë‹¤.

```java
LocalDateTime dateTime = LocalDateTime.of(2014, Month.MARCH, 18, 13, 45);
OffsetDateTime dateTimeInNewYork = OffsetDateTime.of(date, newYorkOffset);
```

### 12.3.3 ëŒ€ì•ˆ ìº˜ë¦°ë” ì‹œìŠ¤í…œ ì‚¬ìš©í•˜ê¸°

ìë°” 8ì—ì„œëŠ” ì¶”ê°€ë¡œ 4ê°œì˜ ìº˜ë¦°ë” ì‹œìŠ¤í…œì„ ì œê³µí•œë‹¤.

ThaiBuddhistDate, MinguoDate, JapaneseDate, HijrahDate ì´ë‹¤.

ì´ í´ë˜ìŠ¤ì™€ LocalDate í´ë˜ìŠ¤ëŠ” ChronoLocalDAte ì¸í„°í˜ì´ìŠ¤ë¥¼ êµ¬í˜„í•˜ëŠ”ë° ì´ëŠ” ì„ì˜ì˜ ì—°ëŒ€ê¸°ì—ì„œ íŠ¹ì • ë‚ ì§œë¥¼ í‘œí˜„í•  ìˆ˜ ìˆëŠ” ê¸°ëŠ¥ì„ ì œê³µí•˜ëŠ” ì¸í„°í˜ì´ìŠ¤ì´ë‹¤.

```java
LocalDate date = LocalDate.of(2014, Month.MARCH, 18);
JapaneseDate japaneseDate = JapaneseDate.from(date);
```

íŠ¹ì • Locale ê³¼ Locale ì— ëŒ€í•œ ë‚ ì§œ ì¸ìŠ¤í„´ìŠ¤ë¡œ ìº˜ë¦°ë” ì‹œìŠ¤í…œì„ ë§Œë“¤ìˆ˜ë„ ìˆë‹¤.

```java
Chronology japaneseChronology = Chronology.ofLocale(Locale.JAPAN);
ChronoLocalDate now = japaneseChronology.dateNow();
```

ë‚ ì§œì™€ ì‹œê°„ API ì˜ ì„¤ê³„ìëŠ” ChronoLocalDate ë³´ë‹¤ëŠ” LocalDate ë¥¼ ì‚¬ìš©í•˜ë¼ê³  ê¶Œê³ í•œë‹¤.
