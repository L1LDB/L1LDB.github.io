---
title: "πΉ chap2. λ™μ‘ νλΌλ―Έν„°ν™” μ½”λ“ μ „λ‹¬ν•κΈ°"
author: chaeshee0908
date: 2023-10-08 20:00:00 +09:00
categories:
  [λ¨λ μλ°” μΈ μ•΅μ…, "chap2. λ™μ‘ νλΌλ―Έν„°ν™” μ½”λ“ μ „λ‹¬ν•κΈ°"]
tags: [λ¨λ μλ°” μΈ μ•΅μ…, JAVA, 2μ£Όμ°¨, μ±„μΉν¬]
render_with_liquid: false
math: true
---

**λ™μ‘ νλΌλ―Έν„°ν™”(behavior parameterization)** 

: μ•„μ§μ€ μ–΄λ–»κ² μ‹¤ν–‰ν•  κ²ƒμΈμ§€ κ²°μ •ν•μ§€ μ•μ€ μ½”λ“ λΈ”λ΅ 

  μ΄ μ½”λ“ λΈ”λ΅μ μ‹¤ν–‰μ€ λ‚μ¤‘μΌλ΅ λ―Έλ¤„μ§€κ³ , κ²°κ³Όμ μΌλ΅ μ½”λ“ λΈ”λ΅μ— λ”°λΌ λ©”μ„λ“μ λ™μ‘μ΄ νλΌλ―Έν„°ν™”λ¨ 

# 2.1 λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— λ€μ‘ν•κΈ°

μ‚¬κ³Ό λ†μ¥μ μ¬κ³  νμ•…μ„ μ„ν• λ¦¬μ¤νΈ ν•„ν„°λ§ κΈ°λ¥μ„ μμ‹λ΅ ν•λ‹¤.

## 2.1.1 μ²« λ²μ§Έ μ‹λ„ : λ…Ήμƒ‰ μ‚¬κ³Ό ν•„ν„°λ§

μ‚¬κ³Ό μƒ‰μ„ μ •μν•λ” Color numμ΄ μ΅΄μ¬ν•λ‹¤.

```java
enum Color { RED, GREEN }
```

μ²« λ²μ§Έ μ‹λ„ κ²°κ³Ό μ½”λ“μ΄λ‹¤. 

```java
public static List<Apple> filterGreenApples(List<Apple> inventory) {
		List<Apple> result = new ArrayList<>();   // μ‚¬κ³Ό λ„μ  λ¦¬μ¤νΈ
		for (Apple apple : inventory) {
				if **(GREEN.equals(apple.getColor())** {   // λ…Ήμƒ‰ μ‚¬κ³Όλ§ μ„ νƒ
						result.add(apple);
				}
		}
		return result;
}
```

κµµκ² λ λ¶€λ¶„μ€ λ…Ήμƒ‰ μ‚¬κ³Όλ¥Ό μ„ νƒν•λ” λ° ν•„μ”ν• μ΅°κ±΄μ΄λ‹¤. 

κ·Έλ°λ° λ†λ¶€κ°€ λ³€μ‹¬ν•μ—¬ λ…Ήμƒ‰ μ‚¬κ³Ό λ§κ³  λΉ¨κ°„ μ‚¬κ³Όλ„ ν•„ν„°λ§ ν•κ³ μ‹¶μ–΄μ΅λ‹¤. λ©”μ„λ“λ¥Ό λ³µμ‚¬ν•μ—¬ filterRedApplesλΌλ” μƒλ΅μ΄ λ©”μ„λ“λ¥Ό λ§λ“¤κ³ , ifλ¬Έμ μ΅°κ±΄μ„ λΉ¨κ°„ μ‚¬κ³Όλ΅ λ°”κΏ€ μ μμ§€λ§, λ‚μ¤‘μ— λ” λ‹¤μ–‘ν• μƒ‰μΌλ΅ ν•„ν„°λ§ ν•λ” λ“±μ λ³€ν™”μ— μ μ ν•κ² λ€μ‘ν•  μ μ—†λ‹¤. 

**β‡’ κ±°μ λΉ„μ·ν• μ½”λ“κ°€ λ°λ³µ μ΅΄μ¬ν•λ‹¤λ©΄ κ·Έ μ½”λ“λ¥Ό μ¶”μƒν™” ν•λ‹¤.**

## 2.1.2 λ‘ λ²μ§Έ μ‹λ„ : μƒ‰μ„ νλΌλ―Έν„°ν™”

μƒ‰μ„ νλΌλ―Έν„°ν™”ν•  μ μλ„λ΅ λ©”μ„λ“μ— νλΌλ―Έν„°λ¥Ό μ¶”κ°€ν•λ©΄ λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— μΆ€ λ” μ μ—°ν•κ² λ€μ‘ν•λ” μ½”λ“λ¥Ό λ§λ“¤ μ μλ‹¤.

```java
public static List<Apple> filterApplesByColor(List<Apple> inventory, Color color)
{
		List<Apple> result = new ArrayList<>();
		for (Apple apple : inventory) {
				if **(apple.getColor().equals(color))** {
						result.add(apple);
				}
		}
		return result;
}
```

λ‹¤μμ²λΌ κµ¬ν„ν• λ©”μ„λ“λ¥Ό νΈμ¶ν•λ‹¤.

```java
List<Apple> greenApples = filterApplesByColor(inventory, GREEN);
List<Apple> redApples = filterApplesByColor(inventory, RED);
```

κ°‘μκΈ° μ—¬κΈ°μ„ λ†λ¶€κ°€ β€μƒ‰ μ΄μ™Έμ—λ„ μ‚¬κ³Όλ¥Ό λ¬΄κ²λ΅ κµ¬λ¶„ν•  μ μλ‹¤λ©΄ μΆ‹κ² λ‹¤β€™λΌλ” μ”κµ¬λ¥Ό ν•λ‹¤.

λ‹¤μ–‘ν• λ¬΄κ²μ— λ€μ‘ν•  μ μλ„λ΅ λ¬΄κ² μ •λ³΄ νλΌλ―Έν„°λ„ μ¶”κ°€ν•λ‹¤.

```java
public static List<Apple> filterApplesByWeight(List<Apple> inventory, int weight)
{
		List<Apple> result = new ArrayList<>();
		for (Apple apple : inventory) {
				if **(apple.getWeight() > weight)** {
						result.add(apple);
				}
		}
		return result;
}
```

μ„μ μ½”λ“λ¥Ό λ³΄λ©΄ μƒ‰ ν•„ν„°λ§ μ½”λ“μ™€ λ€λ¶€λ¶„ μ¤‘λ³µλλ‹¤. μ΄λ” μ†ν”„νΈμ›¨μ–΄ κ³µν•™μ DRY(donβ€™t repeat yourself) μ›μΉ™μ„ μ–΄κΈ°λ” κ²ƒμ΄λ‹¤.

μƒ‰κ³Ό λ¬΄κ²λ¥Ό filterλΌλ” λ©”μ„λ“λ΅ ν•©μΉλ” λ°©λ²•μ΄ μμ§€λ§ μ΄λ” μ–΄λ–¤ κΈ°μ¤€μΌλ΅ μ‚¬κ³Όλ¥Ό ν•„ν„°λ§ν•  μ§€ κµ¬λ¶„ν•λ” λ λ‹¤λ¥Έ λ°©λ²•μΌλ΅ ν”λκ·Έλ¥Ό μ¶”κ°€ν•΄μ•Όν•λ‹¤. ν•μ§€λ§ μ‹¤μ „μ—μ„λ” μ λ€ μ΄ λ°©λ²•μ„ μ‚¬μ©ν•μ§€ λ§μ•„μ•Ό ν•λ‹¤. 

## 2.1.3 μ„Έ λ²μ§Έ μ‹λ„ : κ°€λ¥ν• λ¨λ“  μ†μ„±μΌλ΅ ν•„ν„°λ§

λ‹¤μμ€ λ¨λ“  μ†μ„±μ„ λ©”μ„λ“ νλΌλ―Έν„°λ΅ μ¶”κ°€ν• μ½”λ“μ΄λ‹¤.(ν•μ§€ λ§μ•„μ•Ό ν•  μ§“)

```java
public static List<Apple> filterApples(List<Apple> inventory, Color color, 
																			int weight, boolean flag) {
		List<Apple> result = new ArrayList<>();
		for (Apple apple : inventory) {
				if **((flag && apple.getColor().equals(color)) || 
						(!flag && apple.getWeight() > weight))** {  // μƒ‰μ΄λ‚ λ¬΄κ² μ„ νƒ λ°©μ‹μ΄ λ³„λ΅μ„
						result.add(apple);
				}
		}
		return result;
}
```

μ‹¤ν–‰ μ½”λ“

```java
List<Apple> greenApples = filterApples(inventory, GREEN, 0, true);
List<Apple> heavyApples = filterApples(inventroy, null, 150, false);
```

μ„ μ½”λ“λ¥Ό λ΄¤μ„ λ• trueμ™€ falseκ°€ λ¬΄μ—‡μ„ μλ―Έν•λ”μ§€ νμ•…ν•κΈ° μ–΄λ µκ³ , μ•μΌλ΅ μ”κµ¬μ‚¬ν•­μ΄ λ°”λ€μ—μ„ λ• μ μ—°ν•κ² λ€μ‘ν•  μλ„ μ—†λ‹¤. λ§μ•½ ν¬κΈ°, λ¨μ–‘, μ¶ν•μ§€ λ“±μΌλ΅ ν•„ν„°λ§ ν•κ³  μ‹¶λ‹¤λ©΄ κ²°κµ­ μ¤‘λ³µλ ν•„ν„° λ©”μ„λ“λ¥Ό λ§λ“¤κ±°λ‚, λ¨λ“  κ²ƒμ„ μ²λ¦¬ν•λ” κ±°λ€ν• ν•λ‚μ ν•„ν„° λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤. 

# 2.2 λ™μ‘ νλΌλ―Έν„°ν™”

**ν”„λ λ””μΌ€μ΄νΈ** : μ°Έ λλ” κ±°μ§“μ„ λ°ν™ν•λ” ν•¨μ

**μ„ νƒ μ΅°κ±΄μ„ κ²°μ •ν•λ” μΈν„°νμ΄μ¤**λ¥Ό μ •μν•μ.

```java
public interface ApplePredicate {
		boolean test (Apple apple);
}
```

λ‹¤μκ³Ό κ°™μ΄ λ‹¤μ–‘ν• μ„ νƒ μ΅°κ±΄μ„ λ€ν‘ν•λ” μ—¬λ¬ λ²„μ „μ ApplePredicateλ¥Ό μ •μν•  μ μλ‹¤.

```java
public class AppleHeavyWeightPredicate implements ApplePredicate {
		public boolean test(Apple apple) {
				return apple.getWeight() > 150;
		}
}
```

```java
public class AppleGreenColorPredicate implements ApplePredicate {
		public boolean test(Apple apple) {
				return GREEN.equals(apple.getColor());
		}
}
```

![](/assets/img/chaeshee0908/java-in-action/chap2/1.png){: width="600" }

μ„ μ΅°κ±΄μ— λ”°λΌ filter λ©”μ„λ“κ°€ λ‹¤λ¥΄κ² λ™μ‘ν•  κ²ƒμ΄λΌκ³  μμƒν•  μ μκ³ , μ΄λ¥Ό **μ „λµ λ””μμΈ ν¨ν„΄** μ΄λΌκ³  ν•λ‹¤. 

**μ „λµ λ””μμΈ ν¨ν„΄** 

: κ° μ•κ³ λ¦¬μ¦(μ „λµμ΄λΌ λ¶λ¦¬λ”)μ„ μΊ΅μν™”ν•λ” μ•κ³ λ¦¬μ¦ ν¨λ°€λ¦¬λ¥Ό μ •μν•΄λ‘” λ‹¤μμ— λ°νƒ€μ„μ— μ•κ³ λ¦¬μ¦μ„ μ„ νƒν•λ” κΈ°λ²•

μ„μ—μ„λ” ApplePredicateκ°€ μ•κ³ λ¦¬μ¦ ν¨λ°€λ¦¬μ΄κ³ , AppleHeavyWeightPredicateμ™€ AppleGreenColorPredicateκ°€ μ „λµμ΄λ‹¤.

μ΄μ  filterApplesμ—μ„ **ApplePredicateμ κ°μ²΄λ¥Ό λ°›μ•„** μ• ν”μ μ΅°κ±΄μ„ κ²€μ‚¬ν•λ„λ΅ λ©”μ„λ“λ¥Ό κ³ μ³μ•Όν•λ‹¤. μ΄λ ‡κ² **λ™μ‘ νλΌλ―Έν„°ν™”**, μ¦‰ **λ©”μ„λ“κ°€ λ‹¤μ–‘ν• λ™μ‘(λλ” μ „λµ)μ„ λ°›μ•„ λ‚΄λ¶€μ μΌλ΅ λ‹¤μ–‘ν• λ™μ‘μ„ μν–‰**ν•  μ μλ‹¤.

## 2.2.1 λ„¤ λ²μ§Έ μ‹λ„ : μ¶”μƒμ  μ΅°κ±΄μΌλ΅ ν•„ν„°λ§

λ‹¤μμ€ ApplePredicateλ¥Ό μ΄μ©ν• ν•„ν„° λ©”μ„λ“μ΄λ‹¤.

```java
public static List<Apple> filterApples(List<Apple> inventroy, **ApplePredicate p**) 
{
		List<Apple> result = new ArrayList<>();
		for (Apple apple : inventory) {
				if (p.test(apple)) {  // ν”„λ λ””μΌ€μ΄νΈ κ°μ²΄λ΅ μ‚¬κ³Ό κ²€μ‚¬ μ΅°κ±΄μ„ μΊ΅μν™”
						result.add(apple);
				}
		}
		return result;
}
```

### μ½”λ“/λ™μ‘ μ „λ‹¬ν•κΈ°

μ΄μ  λ†λ¶€μ κ²€μƒ‰ μ΅°κ±΄μ— λ”°λΌ ApplePredicateλ¥Ό μ μ ν κµ¬ν„ν•λ” ν΄λμ¤λ§ λ§λ“¤λ©΄ λλ‹¤. μ΄μ  Appleμ μ†μ„±κ³Ό κ΄€λ ¨ν• λ¨λ“  λ³€ν™”μ— λ€μ‘ν•  μ μλ” μ μ—°ν• μ½”λ“λ¥Ό μ¤€λΉ„ν• κ²ƒμ΄λ‹¤.

150κ·Έλ¨μ΄ λ„λ” λΉ¨κ°„ μ‚¬κ³Όλ¥Ό κ²€μƒ‰ν•΄λ‹¬λΌ

```java
public class AppleRedAndHeavyPredicate implements ApplePredicate {
		public boolean test(Apple apple) {
				return RED.equals(apple.getColor()) && apple.getWeight() > 150;
		}
}

List<Apple> redAndHeeavyApples = 
		filterApples(inventory, new AppleRedAndHeavyPredicate());
```

μ „λ‹¬ν• ApplePredicate κ°μ²΄μ— μν•΄ filterApples λ©”μ„λ“μ λ™μ‘μ΄ κ²°μ •λλ‹¤. μ¦‰, filterApples λ©”μ„λ“μ λ™μ‘μ„ νλΌλ―Έν„°ν™”ν• κ²ƒμ΄λ‹¤. 

![](/assets/img/chaeshee0908/java-in-action/chap2/2.png){: width="600" }

filterApples λ©”μ„λ“μ μƒλ΅μ΄ λ™μ‘μ„ μ •μν•λ” κ²ƒμ΄ test λ©”μ„λ“μ΄λ‹¤. λ©”μ„λ“λ” κ°μ²΄λ§ μΈμλ΅ λ°›μΌλ―€λ΅ test λ©”μ„λ“λ¥Ό ApplePredicate κ°μ²΄λ΅ κ°μ‹Έμ„ μ „λ‹¬ν•΄μ•Ό ν•λ‹¤.

### ν• κ°μ νλΌλ―Έν„°, λ‹¤μ–‘ν• λ™μ‘

- **λ™μ‘ νλΌλ―Έν„°ν™”μ κ°•μ **
    - **μ»¬λ ‰μ… νƒμƒ‰ λ΅μ§**κ³Ό **κ° ν•­λ©μ— μ μ©ν•  λ™μ‘**μ„ **λ¶„λ¦¬**ν•  μ μλ‹¤.
    - ν• λ©”μ„λ“κ°€ λ‹¤λ¥Έ λ™μ‘μ„ μν–‰ν•λ„λ΅ μ¬ν™μ©ν•  μ μλ‹¤.
        
        ![](/assets/img/chaeshee0908/java-in-action/chap2/3.png){: width="700" }
        
    - μ μ—°ν• APIλ¥Ό λ§λ“¤ μ μλ‹¤.

- Quiz. μ μ—°ν• prettyPrintApple λ©”μ„λ“ κµ¬ν„ν•κΈ°
    
    μ‚¬κ³Ό λ¦¬μ¤νΈλ¥Ό μΈμλ΅ λ°›μ•„ λ‹¤μ–‘ν• λ°©λ²•μΌλ΅ λ¬Έμμ—΄μ„ μƒμ„±(μ»¤μ¤ν„°λ§μ΄μ¦λ λ‹¤μ–‘ν• toString λ©”μ„λ“μ™€ κ°™μ΄)ν•  μ μλ„λ΅ νλΌλ―Έν„°ν™”λ prettyPrintApple λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ‹μ¤. μλ¥Ό λ“¤μ–΄ prettyPrintApple λ©”μ„λ“κ°€ κ°κ°μ μ‚¬κ³Ό λ¬΄κ²λ¥Ό μ¶λ ¥ν•λ„λ΅ μ§€μ‹ν•  μ  μλ‹¤. νΉμ€ κ°κ°μ μ‚¬κ³Όκ°€ λ¬΄κ±°μ΄μ§€ κ°€λ²Όμ΄μ§€ μ¶λ ¥ν•λ„λ΅ μ§€μ‹ν•  μ μλ‹¤. prettyPrintApple λ©”μ„λ“λ” μ§€κΈκΉμ§€ μ‚΄ν΄λ³Έ ν•„ν„°λ§ μμ μ™€ λΉ„μ·ν• λ°©λ²•μΌλ΅ κµ¬ν„ν•  μ μλ‹¤. μΆ€ λ” μ‰½κ² λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ„λ΅ λ€λµμ μΈ μ½”λ“λ¥Ό κ³µκ°ν•λ‹¤.
    
    ```java
    public static void prettyPrintApple(List<Apple> inventory, ???) {
    		for (Apple apple: inventory) {
    				String output = ???.???(apple);
    				System.out.println(output);
    		}
    }
    ```
    
    - μ •λ‹µ
        
        μ°μ„  Appleμ„ μΈμλ΅ λ°›μ•„ μ •ν•΄μ§„ λ¬Έμμ—΄λ΅ λ°ν™ν•  μλ‹¨μ΄ μμ–΄μ•Ό ν•λ‹¤. ApplePredicate μΈν„°νμ΄μ¤λ¥Ό μƒκ°ν•΄λ³΄μ. 
        
        ```java
        public interface AppleFormatter {
        		String accept(Apple a);
        }
        ```
        
        μ΄μ  AppleFormatter μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•΄ μ—¬λ¬ ν¬λ§· λ™μ‘μ„ λ§λ“¤ μ μλ‹¤.
        
        ```java
        public class AppleFancyFormatter implements AppleFormatter {
        		public String accept(Apple apple) {
        				String characteristic = apple.getWeight() > 150 ? "heavy" :
        						"light";
        				return "A " + characteristic + " " + apple.getColor() + " apple";
        }
        
        public class AppleSimpleFormatter implements AppleFormatter(
        		public String accept(Apple apple) {
        				return "An apple of " + apple.getWeight() + "g";
        		}
        }
        ```
        
        λ§μ§€λ§‰μΌλ΅ prettyPrintApple λ©”μ„λ“κ°€ AppleFormatter κ°μ²΄λ¥Ό μΈμλ΅ λ°›μ•„ λ‚΄λ¶€μ μΌλ΅ μ‚¬μ©ν•λ„λ΅ μ§€μ‹ν•λ‹¤. μ¦‰, prettyPrintAppleμ— νλΌλ―Έν„°λ¥Ό μ¶”κ°€ν•λ‹¤.
        
        ```java
        public static void prettyPrintApple(List<Apple> inventory, 
        																		AppleFormatter formatter) {
        		for (Apple apple : inventory) {
        				String output = formatter.accept(apple);
        				System.out.println(output);
        		}
        }
        ```
        
        μ΄μ  λ‹¤μ–‘ν• λ™μ‘μ„ prettyPrintApple λ©”μ„λ“λ΅ μ „λ‹¬ν•  μ μλ‹¤. AppleFormatterμ κµ¬ν„μ„ κ°μ²΄ν™”ν• λ‹¤μμ— prettyPrintAppleμ μΈμλ΅ μ „λ‹¬ν•λ‹¤.
        
        ```java
        prettyPrintAppple(inventory, new AppleFancyFormatter());
        ```
        
        μ½”λ“ μ‹¤ν–‰ κ²°κ³Όλ” λ‹¤μκ³Ό κ°™λ‹¤. 
        
        ```
        A light green apple
        A heavy red apple 
        ```
        
        λλ” λ‹¤μκ³Ό κ°™μ΄ κµ¬ν„ν•λ‹¤. 
        
        ```java
        prettyPrintApple(inventory, new AppleSimpleFormatter());
        ```
        
        λ‹¤μμ€ μ½”λ“ μ‹¤ν–‰ κ²°κ³Όμ΄λ‹¤.
        
        ```
        An apple of 80g
        An apple of 155g
        ```
        

λ™μ‘μ„ μ¶”μƒν™” ν•μ—¬ λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— λ€μ‘ν•λ” μ½”λ“λ¥Ό κµ¬ν„ν–μ§€λ§, μ—¬λ¬ ν΄λμ¤λ¥Ό κµ¬ν„ν•΄μ„ μΈμ¤ν„΄μ¤ν™”ν•λ” κ³Όμ •μ„ κ°μ„ ν•  λ°©λ²•μ„ μ•μ•„λ³΄μ.

# 2.3 λ³µμ΅ν• κ³Όμ • κ°„μ†ν™”

- **[ λ™μ‘ νλΌλ―Έν„°ν™” : ν”„λ λ””μΌ€μ΄νΈλ΅ μ‚¬κ³Ό ν•„ν„°λ§ ]** μμ 
    
    ```java
    // λ¬΄κ±°μ΄ μ‚¬κ³Ό μ„ νƒ
    public class AppleHeavyWeightPreidicate implements ApplePredicate {
    		public boolean test(Apple apple) {
    				return apple.getWeight() > 150;
    		}
    }
    
    // λ…Ήμƒ‰ μ‚¬κ³Ό μ„ νƒ
    public class AppleGreenColorPredicate implements ApplePredicate {
    		public boolean test(Apple apple) {
    				return GREEN.equals(apple.getColor());
    		}
    }
    
    public class FilteringApples {
    		public static void main(String...args) {
    				List<Apple> inventory = Arrays.asList(new Apple(80, GREEN),
    																							new Apple(155, GREEN),
    																							new Apple(120, RED));
    				List<Apple> heavyApples =  // κ²°κ³Ό λ¦¬μ¤νΈλ 155κ·Έλ¨μ μ‚¬κ³Ό ν•κ°λ¥Ό ν¬ν•¨ν•λ‹¤. 
    						filterApples(inventory, new AppleHeavyWeightPredicate());
    				List<Apple> greenApples =  // κ²°κ³Ό λ¦¬μ¤νΈλ” λ…Ήμƒ‰ μ‚¬κ³Ό λ‘ κ°λ¥Ό ν¬ν•¨ν•λ‹¤.
    						filterApples(inventory, new AppleGreenColorPredicate());
    		}
    
    		public static List<Apple> filterApples(List<Apple> inventory,
    																						ApplePredicate p) {
    				List<Apple> result = new ArrayList<>();
    				for (Apple apple: inventory) {
    						if (p.test(apple)) {
    								result.add(apple);
    						}
    				}
    				return result;
    		}
    }
    ```
    
    λ΅μ§κ³Ό κ΄€λ ¨ μ—†λ” μ½”λ“κ°€ λ§μ΄ μ¶”κ°€λμ–΄μλ‹¤.
    

μλ°”λ” ν΄λμ¤μ μ„ μ–Έκ³Ό μΈμ¤ν„΄μ¤ν™”λ¥Ό λ™μ‹μ— μν–‰ν•  μ μλ„λ΅ **μµλ… ν΄λμ¤**λΌλ” κΈ°λ²•μ„ μ κ³µν•λ‹¤. μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν•λ©΄ μ½”λ“μ μ–‘μ„ μ¤„μΌ μ μλ‹¤. (ν•μ§€λ§ λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν•  μλ„ μμ)

## 2.3.1 μµλ… ν΄λμ¤

μλ°”μ μ§€μ—­ ν΄λμ¤(λΈ”λ΅ λ‚΄λ¶€μ— μ„ μ–Έλ ν΄λμ¤)μ™€ λΉ„μ·ν• κ°λ…μΌλ΅ λ§ κ·Έλ€λ΅ μ΄λ¦„μ΄ μ—†λ” ν΄λμ¤λ‹¤. 

μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν•λ©΄ **ν΄λμ¤ μ„ μ–Έ**κ³Ό **μΈμ¤ν„΄μ¤ν™”**λ¥Ό λ™μ‹μ— ν•  μ μλ‹¤. 

μ¦‰, μ¦‰μ„μ—μ„ ν•„μ”ν• κµ¬ν„μ„ λ§λ“¤μ–΄ μ‚¬μ©ν•  μ μλ‹¤.

## 2.3.2 λ‹¤μ„― λ²μ§Έ μ‹λ„ : μµλ… ν΄λμ¤ μ‚¬μ©

λ‹¤μμ€ μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν•΄μ„ ApplePredicateλ¥Ό κµ¬ν„ν•λ” κ°μ²΄λ¥Ό λ§λ“λ” λ°©λ²•μΌλ΅ ν•„ν„°λ§ μμ λ¥Ό λ‹¤μ‹ κµ¬ν„ν• μ½”λ“λ‹¤.

```java
List<Apple> redApples = filterApples(inventory, new ApplePredicate() {
		// filterApples λ©”μ„λ“μ λ™μ‘μ„ μ§μ ‘ νλΌλ―Έν„°ν™” ν–λ‹¤!
		public boolean test(Apple apple) {
				return RED.equals(apple.getColor());
		}
}
```

GUI μ• ν”λ¦¬μΌ€μ΄μ…μ—μ„ **μ΄λ²¤νΈ ν•Έλ“¤λ¬ κ°μ²΄λ¥Ό κµ¬ν„**ν•  λ• μµλ… ν΄λμ¤κ°€ μΆ…μΆ… μ‚¬μ©λλ‹¤.

- **μµλ… ν΄λμ¤μ λ¶€μ΅±ν• μ **
    - λ§μ€ κ³µκ°„ μ°¨μ§€
        
        ```java
        List<Apple> redApples = filterApples(inventory, new ApplePredicate() {
        		public boolean test(Apple a) {
        				return RED.equals(a.getColor());
        		}
        });
        button.setOnAction(new EventHandler<ActionEvent>() {
        		public void handle(ActionEvent event) {
        				System.out.println("Whoooo a click!!");
        		}
        }
        ```
        
        μ½”λ“κ°€ λ°λ³µλμ–΄ μ§€μ €λ¶„ν•λ‹¤. 
        
    - λ§μ€ ν”„λ΅κ·Έλλ¨Έκ°€ μµλ… ν΄λμ¤ μ‚¬μ©μ— μµμ™ν•μ§€ μ•λ‹¤.
        
        μ¥ν™©ν• μ½”λ“λ” κµ¬ν„ν•κ³  μ μ§€λ³΄μν•λ” λ° μ‹κ°„μ΄ μ¤λ κ±Έλ¦΄ λΏ μ•„λ‹λΌ μ½λ” μ¦κ±°μ›€λ„ λΊλ”λ‹¤. 
        
        ν• λμ— μ΄ν•΄ν•  μ μμ–΄μ•Ό μΆ‹μ€ μ½”λ“λ‹¤. 
        

## 2.3.3 μ—¬μ„― λ²μ§Έ μ‹λ„ : λλ‹¤ ν‘ν„μ‹ μ‚¬μ©

μλ°” 8μ λλ‹¤ ν‘ν„μ‹μ„ μ„ν•΄ μ΄μ „ μμ  μ½”λ“λ¥Ό κ°„λ‹¨ν•κ² μ¬κµ¬ν„ν•  μ μλ‹¤.

```java
List<Apple> result =
		filterApples(inventory, (Apple apple) -> RED.equals(apple.getColor()));
```

![](/assets/img/chaeshee0908/java-in-action/chap2/4.png){: width="600" }

## 2.3.4 μΌκ³± λ²μ§Έ μ‹λ„ : λ¦¬μ¤νΈ ν•μ‹μΌλ΅ μ¶”μƒν™”

```java
public interface Predicate<T> {
		boolean test(T t);
}

public static <T> List<T> filter(List<T> list, Predicate<T> p) {//ν•μ‹ νλΌλ―Έν„° pλ“±μ¥
		List<T> result = new ArrayList<>();
		for (T e: list) {
				if (p.test(e)) {
						result.add(e);
				}
		}
		return result;
}
```

λ‹¤μμ€ λλ‹¤ ν‘ν„μ‹μ„ μ‚¬μ©ν• μμ λ‹¤.

```java
List<Apple> redApples =
		filter(inventory, (Apple apple) -> RED.equals(apple.getColor()));

List<Integer> evenNumbers =
		filter(numbers, (Integer i) -> i % 2 == 0);
```

μλ°” 8 μ΄ν›„λ¶€ν„° κ°€λ¥ν• μ½”λ“μ΄λ‹¤.

# 2.4 μ‹¤μ „ μμ 

## 2.4.1 Comparatorλ΅ μ •λ ¬ν•κΈ°

μλ°” 8μ Listμ—λ” sort λ©”μ„λ“κ°€ ν¬ν•¨λμ–΄ μλ‹¤(λ¬Όλ΅  Collections.sortλ„ μ΅΄μ¬). 

λ‹¤μκ³Ό κ°™μ€ μΈν„°νμ΄μ¤λ¥Ό κ°–λ” java.util.Comparator κ°μ²΄λ¥Ό μ΄μ©ν•΄μ„ sortμ λ™μ‘μ„ νλΌλ―Έν„°ν™” ν•  μ μλ‹¤.

```java
// java.util.Comparator
public interface Comparator<T> {
		int compare(T o1, T o2);
}
```

Comparatorλ¥Ό κµ¬ν„ν•΄μ„ sort λ©”μ„λ“μ λ™μ‘μ„ λ‹¤μ–‘ν™”ν•  μ μλ‹¤.

1. μµλ… ν΄λμ¤λ¥Ό μ΄μ©ν•΄ λ¬΄κ²κ°€ μ μ€ μμ„λ΅ μ‚¬κ³Όλ¥Ό μ •λ ¬
    
    ```java
    inventory.sort(new Comparator<Apple>() {
    		public int compare(Apple a1, Apple a2) {
    				return a1.getWeight().compareTo(a2.getWeight());
    		}
    });
    ```
    
    μ”κµ¬μ‚¬ν•­μ΄ λ³€κ²½λλ©΄ μƒλ΅μ΄ μ”κµ¬μ‚¬ν•­μ— λ§λ” Comparatorμ„ λ§λ“¤μ–΄ sortμ— μ „λ‹¬ν•λ‹¤.
    
2. λλ‹¤ ν‘ν„μ‹μΌλ΅ λ³€κ²½
    
    ```java
    inventory.sort(
    		(Apple a1, Apple a2) -> a1.getWeight().compareTo(a2.getWeight()));
    ```
    

## 2.4.2 Runnableλ΅ μ½”λ“ λΈ”λ΅ μ‹¤ν–‰ν•κΈ°

μλ°” μ¤λ λ“λ¥Ό μ΄μ©ν•λ©΄ λ³‘λ ¬λ΅ μ½”λ“ λΈ”λ΅μ„ μ‹¤ν–‰ν•  μ μλ‹¤. 

μλ°” 8κΉμ§€λ” Thread μƒμ„±μμ— **κ°μ²΄λ§μ„ μ „λ‹¬**ν•  μ μμ—μΌλ―€λ΅ λ³΄ν†µ κ²°κ³Όλ¥Ό λ°ν™ν•μ§€ μ•λ” void run λ©”μ†λ“λ¥Ό ν¬ν•¨ν•λ” μµλ… ν΄λμ¤κ°€ **Runnable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„**ν•λ„λ΅ ν•λ” κ²ƒμ΄ μΌλ°μ μΈ λ°©λ²•μ΄μ—λ‹¤. 

μλ°”μ—μ„λ” Runnable μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄μ„ μ‹¤ν–‰ν•  μ½”λ“ λΈ”λ΅μ„ μ§€μ •ν•  μ μλ‹¤.

```java
// java.lang.Runnable
public interface Runnable {
		void run();
} // μ½”λ“ λΈ”λ΅ μ‹¤ν–‰ κ²°κ³Ό void
```

Runnableμ„ μ΄μ©ν•΄μ„ λ‹¤μ–‘ν• λ™μ‘μ„ μ¤λ λ“λ΅ μ‹¤ν–‰ κ°€λ¥ν•λ‹¤.

```java
Thread t = new Thread(new Runnable() {
		public void run() {
				System.out.println("Hello world");
		}
});
```

μλ°” 8λ¶€ν„° μ§€μ›ν•λ” λλ‹¤ ν‘ν„μ‹μ„ μ΄μ©ν•λ©΄ λ‹¤μμ²λΌ μ¤λ λ“ μ½”λ“λ¥Ό κµ¬ν„ν•  μ μλ‹¤. 

```java
Thread t = new Thread(() -> System.out.println("Hello world"));
```

## 2.4.3 Callableμ„ κ²°κ³Όλ΅ λ°ν™ν•κΈ°

- ExecutorService(μΈν„°νμ΄μ¤)
    - μλ°” 5λ¶€ν„° μ§€μ›ν•λ” μ¶”μƒν™” κ°λ…
    - νƒμ¤ν¬ μ μ¶κ³Ό μ‹¤ν–‰ κ³Όμ •μ μ—°κ΄€μ„±μ„ λμ–΄μ¤
    - νƒμ¤ν¬λ¥Ό μ¤λ λ“ ν’€λ΅ λ³΄λ‚΄κ³  κ²°κ³Όλ¥Ό Futureλ΅ μ €μ¥ κ°€λ¥(μ¤λ λ“μ™€ Runnableμ„ μ΄μ©ν•λ” λ°©μ‹κ³Ό λ‹¤λ¦„)

Callable μΈν„°νμ΄μ¤λ¥Ό μ΄μ©ν•΄ κ²°κ³Όλ¥Ό λ°ν™ν•λ” νƒμ¤ν¬λ¥Ό λ§λ“ λ‹¤. (Runnableμ μ—…κ·Έλ μ΄λ“ λ²„μ „)

```java
// java.util.concurrent.Callable
public interface Callable<V> {
		V call();
}
```

μ•„λ μ½”λ“μ—μ„ λ³Ό μ μλ“―μ΄ μ‹¤ν–‰ μ„λΉ„μ¤μ— νƒμ¤ν¬λ¥Ό μ μ¶ν•΄μ„ μ„ μ½”λ“λ¥Ό ν™μ©ν•  μ μλ”°. λ‹¤μ μμ λ” νƒμ¤ν¬λ¥Ό μ‹¤ν–‰ν•λ” μ¤λ λ“μ μ΄λ¦„μ„ λ°ν™ν•λ‹¤.

```java
ExecutorService executorService = Executors.newCachedThreadPool();
Future<String> threadName = executorService.submit(new Callable<String>() {
		@Override
		public String call() throws Exception {
				return Thread.currentThread().getName();
		}
});
```

λλ‹¤λ¥Ό μ΄μ©ν•λ©΄ λ‹¤μμ²λΌ μ½”λ“λ¥Ό μ¤„μΌ μ μλ‹¤. 

```java
Future<String> threadName = executorService.submit(
		() -> Thread.currentThread().getName());
```

## 2.4.4 GUI μ΄λ²¤νΈ μ²λ¦¬ν•κΈ°

- GUI ν”„λ΅κ·Έλλ°
    - λ§μ°μ¤ ν΄λ¦­, λ¬Έμμ—΄ μ„λ΅ μ΄λ™ λ“±μ μ΄λ²¤νΈ λ€μ‘ λ™μ‘ μν•΄
    - λ³€ν™”μ— λ€μ‘ν•  μ μλ” μ μ—°ν• μ½”λ“ ν•„μ”(λ¨λ“  λ™μ‘μ— λ°μ‘ν•΄μ•Όν•¨)

μλ°”FXμ—μ„λ” setOnAction λ©”μ„λ“μ— EventHandlerλ¥Ό μ „λ‹¬ν•¨μΌλ΅μ¨ μ΄λ²¤νΈμ— μ–΄λ–»κ² λ°μ‘ν• μ§€ μ„¤μ • κ°€λ¥

```java
Button button = new Button("Send");
button.setOnAction(new EventHandler<ActionEvent>() {
		public void handle(ActionEvent event) {
				label.setText("Sent!!");
		}
});
```

μ¦‰, EventHandlerλ” setOnAction λ©”μ„λ“μ λ™μ‘μ„ νλΌλ―Έν„°ν™”ν•λ‹¤. λλ‹¤ν‘ν„μ‹μ€ λ‹¤μκ³Ό κ°™λ‹¤.

```java
button.setOnAction((ActionEvent event) -> label.setText("Sent!!"));
```

# 2.5 λ§μΉλ©°

- λ™μ‘ νλΌλ―Έν„°ν™”μ—μ„λ” λ©”μ„λ“ λ‚΄λ¶€μ μΌλ΅ λ‹¤μ–‘ν• λ™μ‘μ„ μν–‰ν•  μ μλ„λ΅ **μ½”λ“λ¥Ό λ©”μ„λ“ μΈμλ΅ μ „λ‹¬**ν•λ‹¤.
- λ™μ‘ νλΌλ―Έν„°ν™”λ¥Ό μ΄μ©ν•λ©΄ **λ³€ν™”ν•λ” μ”κµ¬μ‚¬ν•­μ— λ” μ λ€μ‘ν•  μ μλ” μ½”λ“λ¥Ό κµ¬ν„**ν•  μ μμΌλ©° λ‚μ¤‘μ— μ—”μ§€λ‹μ–΄λ§ λΉ„μ©μ„ μ¤„μΌ μ μλ‹¤.
- μ½”λ“ μ „λ‹¬ κΈ°λ²•μ„ μ΄μ©ν•λ©΄ λ™μ‘μ„ λ©”μ„λ“μ μΈμλ΅ μ „λ‹¬ν•  μ μλ‹¤. ν•μ§€λ§ μλ°” 8 μ΄μ „μ—λ” μ½”λ“λ¥Ό μ§€μ €λ¶„ν•κ² κµ¬ν„ν•΄μ•Ό ν–λ‹¤. μµλ… ν΄λμ¤λ΅λ„ μ–΄λ μ •λ„ μ½”λ“λ¥Ό κΉ”λ”ν•κ² λ§λ“¤ μ μμ§€λ§ μλ°” 8μ—μ„λ” **μΈν„°νμ΄μ¤λ¥Ό μƒμ†**λ°›μ•„ μ—¬λ¬ ν΄λμ¤λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ” μκ³ λ¥Ό μ—†μ•¨ μ μλ” λ°©λ²•μ„ μ κ³µν•λ‹¤.
- μλ°” APIμ λ§μ€ λ©”μ„λ“λ” μ •λ ¬, μ¤λ λ“, GUI μ²λ¦¬ λ“±μ„ ν¬ν•¨ν• λ‹¤μ–‘ν• λ™μ‘μΌλ΅ νλΌλ―Έν„°ν™”ν•  μ μλ‹¤.