---
title: "πΉ chap13. λ””ν΄νΈ λ©”μ„λ“"
author: chaeshee0908
date: 2024-01-06 19:40:00 +09:00
categories:
  [λ¨λ μλ°” μΈ μ•΅μ…, "chap13. λ””ν΄νΈ λ©”μ„λ“"]
tags: [λ¨λ μλ°” μΈ μ•΅μ…, JAVA, 13μ£Όμ°¨, μ±„μΉν¬]
render_with_liquid: false
math: true
---

μΈν„°νμ΄μ¤λ¥Ό λ³€κ²½(μƒλ΅μ΄ λ©”μ„λ“ μ¶”κ°€ λ“±)ν•κ³ μ ν•  λ• ν•΄λ‹Ή μΈν„°νμ΄μ¤λ¥Ό μƒμ†ν• λ¨λ“  ν΄λμ¤λ¥Ό κ³ μ³μ•Ό ν•λ‹¤λ©΄ λ§¤μ° λ‹Ήν™©μ¤λ¬μΈ κ²ƒμ΄λ‹¤. 

μλ°” 8μ—μ„λ” μ΄ λ¬Έμ λ¥Ό ν•΄κ²°ν•λ” μƒλ΅μ΄ κΈ°λ¥μ„ μ κ³µν•λ‹¤. μλ°” 8μ—μ„λ” κΈ°λ³Έ κµ¬ν„μ„ ν¬ν•¨ν•λ” μΈν„°νμ΄μ¤λ¥Ό μ •μν•λ” λ‘ κ°€μ§€ λ°©λ²•μ„ μ κ³µν•λ‹¤. 

1. μΈν„°νμ΄μ¤ λ‚΄λ¶€μ— **μ •μ  λ©”μ„λ“** μ‚¬μ©
2. μΈν„°νμ΄μ¤μ κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•  μ μλ„λ΅ **λ””ν΄νΈ λ©”μ„λ“** κΈ°λ¥ μ‚¬μ©

λ©”μ„λ“ κµ¬ν„μ„ ν¬ν•¨ν•λ” μΈν„°νμ΄μ¤λ¥Ό μ •μν•  μ μλ‹¤. κ²°κ³Όμ μΌλ΅ κΈ°μ΅΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ” μλ™μΌλ΅ μΈν„°νμ΄μ¤μ— μ¶”κ°€λ μƒλ΅μ΄ λ©”μ„λ“μ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μƒμ†λ°›κ² λλ‹¤. μ΄λ ‡κ² ν•λ©΄ κΈ°μ΅΄μ μ½”λ“ κµ¬ν„μ„ λ°”κΎΈλ„λ΅ κ°•μ”ν•μ§€ μ•μΌλ©΄μ„λ„ μΈν„°νμ΄μ¤λ¥Ό λ°”κΏ€ μ μλ‹¤. 

μ΄μ™€ κ°™μ€ λ°©μ‹μΌλ΅ λ‘κ°€μ§€ μλ΅ List μΈν„°νμ΄μ¤μ sortμ™€ Collection μΈν„°νμ΄μ¤μ stream λ©”μ„λ“κ°€ μλ‹¤. 

List μΈν„°νμ΄μ¤μ sort λ©”μ„λ“λ” μλ°” 8μ—μ„ μƒλ΅ μ¶”κ°€λ λ©”μ„λ“λ‹¤. λ‹¤μμ€ sortμ κµ¬ν„ μ½”λ“λ‹¤.

```java
default void sort(Comparator<? super E> c) {
    Collections.sort(this, c);
}
```

λ°ν™ ν•μ‹ void μ•μ— defaultλΌλ” μƒλ΅μ΄ ν‚¤μ›λ“κ°€ λ“±μ¥ν–λ‹¤. 

default ν‚¤μ›λ“λ” ν•΄λ‹Ή λ©”μ„λ“κ°€ λ””ν΄νΈ λ©”μ„λ“μ„μ„ κ°€λ¦¬ν‚¨λ‹¤. μ—¬κΈ°μ„ sort λ©”μ„λ“λ” Collections.sort λ©”μ„λ“λ¥Ό νΈμ¶ν•λ‹¤. μ΄ λ©”μ„λ“ λ•λ¶„μ— λ¦¬μ¤νΈμ—μ„ μ§μ ‘ sortλ¥Ό νΈμ¶ν•  μ μκ² λμ—λ‹¤. 

```java
List<Integer> numbers = Arrays.asList(3, 5, 1, 2, 6);
numbers.sort(Comparator.naturalOrder()); //sortλ” List μΈν„°νμ΄μ¤μ λ””ν΄νΈ λ©”μ„λ“λ‹¤
```

naturalOrder β†’ μμ—°μμ„(ν‘μ¤€ μ•νλ²³ μμ„)λ΅ μ”μ†λ¥Ό μ •λ ¬ν•  μ μλ„λ΅ Comparator κ°μ²΄λ¥Ό λ°ν™ν•λ” Comparator μΈν„°νμ΄μ¤μ— μ¶”κ°€λ μƒλ΅μ΄ μ •μ  λ©”μ„λ“λ‹¤. 

λ‹¤μμ€ Collectionμ stream λ©”μ„λ“ μ •μ μ½”λ“λ‹¤.

```java
default Stream<E> stream() {
    return StreamSupport.stream(spliterator(), false);
}
```

stream λ©”μ„λ“λ” λ‚΄λ¶€μ μΌλ΅ StreamSupport.streamμ΄λΌλ” λ©”μ„λ“λ¥Ό νΈμ¶ν•΄μ„ μ¤νΈλ¦Όμ„ λ°ν™ν•λ‹¤. stream λ©”μ„λ“μ λ‚΄λ¶€μ—μ„λ” Collection μΈν„°νμ΄μ¤μ λ‹¤λ¥Έ λ””ν΄νΈ λ©”μ„λ“ spliteratorλ„ νΈμ¶ν•λ‹¤. 

λ””ν΄νΈ λ©”μ„λ“λ” μ£Όλ΅ λΌμ΄λΈλ¬λ¦¬ μ„¤κ³„μλ“¤μ΄ μ‚¬μ©ν•λ‹¤. μ•„λ κ·Έλ¦Όμ²λΌ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•λ©΄ μλ°” APIμ νΈν™μ„±μ„ μ μ§€ν•λ©° λΌμ΄λΈλ¬λ¦¬λ¥Ό λ°”κΏ€ μ μλ‹¤. 

![](/assets/img/chaeshee0908/java-in-action/chap13/1.png){: width="650" }

μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ μ—¬λ¬ λ¬Έμ κ°€ λ°μƒν–μ—λ‹¤. 

β†’ μΈν„°νμ΄μ¤μ— μƒλ΅ μ¶”κ°€λ λ©”μ„λ“λ¥Ό κµ¬ν„ν•λ„λ΅ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” κΈ°μ΅΄ ν΄λμ¤λ¥Ό κ³ μ³μ•Ό ν–κΈ° λ•λ¬Έμ΄λ‹¤. 

λ³ΈμΈμ΄ μ§μ ‘ μΈν„°νμ΄μ¤μ™€ μ΄λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ¥Ό κ΄€λ¦¬ν•  μ μλ” μƒν™©μ΄λΌλ©΄ μ΄ λ¬Έμ λ¥Ό μ–΄λ µμ§€ μ•κ² ν•΄κ²°ν•  μ μμ§€λ§ μΈν„°νμ΄μ¤λ¥Ό λ€μ¤‘μ— κ³µκ°ν–μ„ λ•λ” μƒν™©μ΄ λ‹¤λ¥΄λ‹¤. 

κ·Έλμ„ **λ””ν΄νΈ λ©”μ„λ“**κ°€ νƒ„μƒν•μ€λ‹¤. 

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•λ©΄ μΈν„°νμ΄μ¤μ κΈ°λ³Έ κµ¬ν„μ„ κ·Έλ€λ΅ μƒμ†ν•λ―€λ΅ **μΈν„°νμ΄μ¤μ— μμ λ΅­κ² μƒλ΅μ΄ λ©”μ„λ“λ¥Ό μ¶”κ°€**ν•  μ μκ² λλ‹¤. 

**λ””ν΄νΈ λ©”μ„λ“λ” λ‹¤μ¤‘ μƒμ†**μ΄λΌ μ μ—°μ„±μ„ μ κ³µν•λ©΄μ„ ν”„λ΅κ·Έλ¨ κµ¬μ„±μ—λ„ λ„μ›€μ„ μ¤€λ‹¤(μ΄μ  ν΄λμ¤λ” μ—¬λ¬ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μƒμ†λ°›μ„ μ μκ² λμ—λ‹¤)

# 13.1 λ³€ν™”ν•λ” API

ex) λΌμ΄λΈλ¬λ¦¬ μ„¤κ³„

- λ¨μ–‘μ ν¬κΈ°λ¥Ό μ΅°μ ν•λ” λ° ν•„μ”ν• setHeight, setWeight, getHeight, getWidth, setAbsoluteSize λ“±μ λ©”μ„λ“λ¥Ό μ •μν•λ” Resizable μΈν„°νμ΄μ¤
- Rectangleμ΄λ‚ Squareμ²λΌ Resizableμ„ κµ¬ν„ν•λ” ν΄λμ¤ μ κ³µ
- λΌμ΄λΈλ¬λ¦¬κ°€ μΈκΈ°λ¥Ό μ–»μΌλ©° μΌλ¶€ μ‚¬μ©μλ” μ§μ ‘ Resizable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” EllipseλΌλ” ν΄λμ¤ κµ¬ν„

APIλ¥Ό λ¦΄λ¦¬μ¦ ν• ν›„ Resizableμ— λ‡ κ°€μ§€ κΈ°λ¥μ΄ λ¶€μ΅±ν•λ‹¤λ” μ‚¬μ‹¤μ„ μ•κ²λμ—λ‹¤. μλ¥Ό λ“¤μ–΄ Resizable μΈν„°νμ΄μ¤μ— ν¬κΈ° μ΅°μ  μΈμλ΅ λ¨μ–‘μ ν¬κΈ°λ¥Ό μ΅°μ ν•  μ μλ” setRelativeSizeλΌλ” λ©”μ„λ“κ°€ μμΌλ©΄ μΆ‹μ„ κ²ƒ κ°™λ‹¤. κ·Έλμ„ Resizableμ— setRelativeSizeλ¥Ό μ¶”κ°€ν• λ‹¤μμ— Squareκ³Ό Rectangle κµ¬ν„λ„ κ³ μ³¤λ‹¤. 

μ΄λ ‡κ² λλ©΄ Resizable μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν• μ‚¬μ©μλ” μ–΄λ–»κ² λλ” κ±ΈκΉ?

μ•νƒ€κΉκ²λ„ λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©μκ°€ λ§λ“  ν΄λμ¤λ” μ°λ¦¬κ°€ μ–΄λ–»κ² ν•  μλ” μ—†λ‹¤. 

μλ°” λΌμ΄λΈλ¬λ¦¬ μ„¤κ³„μκ°€ λΌμ΄λΈλ¬λ¦¬λ¥Ό λ°”κΎΈκ³  μ‹¶μ„ λ• κ°™μ€ λ¬Έμ κ°€ λ°μƒν•λ‹¤. 

## 13.1.1 API λ²„μ „ 1

Resizable μΈν„°νμ΄μ¤ μ΄κΈ° λ²„μ „μ€ λ‹¤μκ³Ό κ°™μ€ λ©”μ„λ“λ¥Ό ν¬ν•¨ν•λ‹¤.

```java
public interface Resizable extends Drawable {
    int getWidth();
    int getHeight();
    void setWidth(int width);
    void setHeight(int height);
    void setAbsoluteSize(int width, int height);
}
```

### μ‚¬μ©μ κµ¬ν„

μ°λ¦¬ λΌμ΄λΈλ¬λ¦¬λ¥Ό μ¦κ²¨ μ‚¬μ©ν•λ” μ‚¬μ©μ μ¤‘ ν• λ…μ€ μ§μ ‘ Resizableμ„ κµ¬ν„ν•λ” Ellipse ν΄λμ¤λ¥Ό λ§λ“¤μ—λ‹¤.

```java
public class Ellipse implements Resizable {
    ...
}
```

μ΄ μ‚¬μ©μλ” λ‹¤μ–‘ν• Resizable λ¨μ–‘(μμ‹ μ΄ λ§λ“  Ellipseλ¥Ό ν¬ν•¨ν•μ—¬)μ„ μ²λ¦¬ν•λ” κ²μ„μ„ λ§λ“¤μ—λ‹¤. 

```java
public class Game {
    public static void main(String...args) {
        // ν¬κΈ°λ¥Ό μ΅°μ ν•  μ μλ” λ¨μ–‘ λ¦¬μ¤νΈ
        List<Resizable> resizableShapes =
            Arrays.asList(new Square(), new Rectangle(), new Ellipse());
        Utils.paint(resizableShapes);
    }
}

public class Utils {
    public static void paint(List<Resizable> l) {
        l.forEach(r -> {
            r.setAbsoluteSize(42, 42); //κ° λ¨μ–‘μ— setAbsoluteSize νΈμ¶
            r.draw();
        });
    }
}
```

## 13.1.2 API λ²„μ „ 2

λ‡ κ°μ›”μ΄ μ§€λ‚μ Resizableμ„ κµ¬ν„ν•λ” Squareμ™€ Rectangle κµ¬ν„μ„ κ°μ„ ν•΄λ‹¬λΌλ” λ§μ€ μ”μ²­μ„ λ°›μ•λ‹¤. κ·Έλμ„ λ‹¤μμ²λΌ API λ²„μ „ 2λ¥Ό λ§λ“¤μ—λ‹¤. 

![](/assets/img/chaeshee0908/java-in-action/chap13/2.png){: width="600" }

```java
public interface Resizable {
    int getWidth();
    int getHeight();
    void setWidth(int width);
    void setHeight(int height);
    void setAbsoluteSize(int width, int height);
    // API λ²„μ „2μ— μ¶”κ°€λ μƒλ΅μ΄ λ©”μ„λ“
    void setRelativeSize(int wFactor, int hFactor);
}
```

### μ‚¬μ©μκ°€ κ²λ” λ¬Έμ 

Resizableμ„ κ³ μΉλ©΄ λ‡ κ°€μ§€ λ¬Έμ κ°€ λ°μƒν•λ‹¤. 

1. **Resizableμ„ κµ¬ν„ν•λ” λ¨λ“  ν΄λμ¤λ” setRelativeSize λ©”μ„λ“λ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤.** (ν•μ§€λ§ λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©μκ°€ μ§μ ‘ κµ¬ν„ν• Ellipseλ” serRelativeSize λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•λ”λ‹¤.)
    
    β†’ μΈν„°νμ΄μ¤μ— μƒλ΅μ΄ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ **λ°”μ΄λ„λ¦¬ νΈν™μ„±**μ€ μ μ§€λλ‹¤. 
    
    (λ°”μ΄λ„λ¦¬ νΈν™μ„±: μƒλ΅ μ¶”κ°€λ λ©”μ„λ“λ¥Ό νΈμ¶ν•μ§€λ§ μ•μΌλ©΄ μƒλ΅μ΄ λ©”μ„λ“ κµ¬ν„μ΄ μ—†μ΄λ„ κΈ°μ΅΄ ν΄λμ¤ νμΌ κµ¬ν„μ΄ μ λ™μ‘ν•λ‹¤.)
    
    ν•μ§€λ§ μ–Έμ  κ°€ λ„κµ°κ°€λ” Resizableμ„ μΈμλ΅ λ°›λ” Utils.paintμ—μ„ setRelativeSizeλ¥Ό μ‚¬μ©ν•λ„λ΅ μ½”λ“λ¥Ό λ°”κΏ€ μ μλ‹¤. μ΄λ• Ellipse κ°μ²΄κ°€ μΈμλ΅ μ „λ‹¬λλ©΄ Ellipseλ” setRelativeSize λ©”μ„λ“λ¥Ό μ •μν•μ§€ μ•μ•μΌλ―€λ΅ λ°νƒ€μ„μ— λ‹¤μκ³Ό κ°™μ€ μ—λ¬κ°€ λ°μƒν•  κ²ƒμ΄λ‹¤.
    
    ```
    Exception in thread "main" java.lang.AbstractMethodError: lambdasinaction.chap9.
    Ellipse.setRelativeSize(II)V
    ```
    
2. μ‚¬μ©μκ°€ Ellipseλ¥Ό ν¬ν•¨ν•λ” μ „μ²΄ μ• ν”λ¦¬μΌ€μ΄μ…μ„ μ¬λΉλ“ν•  λ• λ‹¤μκ³Ό κ°™μ€ **μ»΄νμΌ μ—λ¬κ°€ λ°μƒ**ν•λ‹¤. 
    
    ```
    lambdasinaction/chap9/Ellipse.java:6: error: Ellipse is not abstract and does not
    override abstract method setRelativeSize(int, int) in Resizable
    ```
    
    κ³µκ°λ APIλ¥Ό κ³ μΉλ©΄ **κΈ°μ΅΄ λ²„μ „κ³Ό νΈν™μ„± λ¬Έμ κ°€ λ°μƒ**ν•λ‹¤. μ΄λ° μ΄μ  λ•λ¬Έμ— κ³µμ‹ μλ°” μ»¬λ ‰μ… API κ°™μ€ κΈ°μ΅΄μ APIλ” κ³ μΉκΈ° μ–΄λ µλ‹¤. λ¬Όλ΅  APIλ¥Ό λ°”κΏ€ μ μλ” λ‡ κ°€μ§€ λ€μ•μ΄ μμ§€λ§ μ™„λ²½ν• ν•΄κ²°μ±…μ€ λ  μ μ—†λ‹¤. 
    
    μλ¥Ό λ“¤μ–΄ μμ‹ λ§μ APIλ¥Ό λ³„λ„λ΅ λ§λ“  λ‹¤μ μμ „ λ²„μ „κ³Ό μƒλ΅μ΄ λ²„μ „μ„ μ§μ ‘ κ΄€λ¦¬ν•λ” λ°©λ²•λ„ μλ‹¤. β†’ μ—¬λ¬ κ°€μ§€λ΅ λ¶νΈν• μ 
    
    (1) λΌμ΄λΈλ¬λ¦¬ κ΄€λ¦¬ λ³µμ΅
    
    (2) μ‚¬μ©μλ” κ°™μ€ μ½”λ“μ— μμ „ λ²„μ „κ³Ό μƒλ΅μ΄ λ²„μ „ λ‘ κ°€μ§€ λΌμ΄λΈλ¬λ¦¬λ¥Ό λ¨λ‘ μ‚¬μ©ν•΄μ•Ό ν•¨
    
    κ²°κµ­ ν”„λ΅μ νΈμ—μ„ λ΅λ”©ν•΄μ•Ό ν•  ν΄λμ¤ νμΌμ΄ λ§μ•„μ§€λ©΄μ„ λ©”λ¨λ¦¬ μ‚¬μ©κ³Ό λ΅λ”© μ‹κ°„ λ¬Έμ κ°€ λ°μƒν•λ‹¤. 
    

λ””ν΄νΈ λ©”μ„λ“λ΅ μ΄ λ¨λ“  λ¬Έμ λ¥Ό ν•΄κ²°ν•  μ μλ‹¤. 

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•΄μ„ APIλ¥Ό λ°”κΎΈλ©΄ μƒλ΅­κ² λ°”λ€ μΈν„°νμ΄μ¤μ—μ„ μλ™μΌλ΅ κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•λ―€λ΅ κΈ°μ΅΄ μ½”λ“λ¥Ό κ³ μΉμ§€ μ•μ•„λ„ λλ‹¤.

# 13.2 λ””ν΄νΈ λ©”μ„λ“λ€ λ¬΄μ—‡μΈκ°€?

μλ°” 8μ—μ„λ” νΈν™μ„±μ„ μ μ§€ν•λ©΄μ„ APIλ¥Ό λ°”κΏ€ μ μλ„λ΅ μƒλ΅μ΄ κΈ°λ¥μΈ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ‹¤. μ΄μ  μΈν„°νμ΄μ¤λ” μμ‹ μ„ κµ¬ν„ν•λ” ν΄λμ¤μ—μ„ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ„ μ μλ” μƒλ΅μ΄ λ©”μ„λ“ μ‹κ·Έλ‹μ²λ¥Ό μ κ³µν•λ‹¤. 

μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤μ—μ„ κµ¬ν„ν•μ§€ μ•μ€ λ©”μ„λ“λ” μΈν„°νμ΄μ¤ μμ²΄μ—μ„ κΈ°λ³ΈμΌλ΅ μ κ³µν•λ‹¤.(κ·Έλμ„ κµ¬ν„μ΄ ν•„μκ°€ μ•„λ‹)

**λ””ν΄νΈ λ©”μ„λ“**

- **defaultλΌλ” ν‚¤μ›λ“**λ΅ μ‹μ‘
- λ‹¤λ¥Έ ν΄λμ¤μ— μ„ μ–Έλ λ©”μ„λ“μ²λΌ **λ©”μ„λ“ λ°”λ”” ν¬ν•¨**

ex) μ»¬λ ‰μ… λΌμ΄λΈλ¬λ¦¬μ— Sized μΈν„°νμ΄μ¤ μ •μ

```java
public interface Sized {
    int size();
    default boolean isEmpty() { // λ””ν΄νΈ λ©”μ„λ“
        return size() == 0;
    }
}
```

μ΄μ  Sized μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” λ¨λ“  ν΄λμ¤λ” isEmptyμ κµ¬ν„λ„ μƒμ†λ°›λ”λ‹¤. μ¦‰, μΈν„°νμ΄μ¤μ— λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ μ†μ¤ νΈν™μ„±μ΄ μ μ§€λλ‹¤. 

κ²°λ΅ μ μΌλ΅ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•΄ setRelativeSizeμ λ””ν΄νΈ κµ¬ν„μ„ μ κ³µν•λ©΄ νΈν™μ„±μ„ μ μ§€ν•λ©° λΌμ΄λΈλ¬λ¦¬λ¥Ό κ³ μΉ  μ μλ‹¤. 

```java
default void setRelativeSize(int wFactor, int hFactor) {
    setAbsoluteSize(getWidth() / wFactor, getHeight() / hFactor);
```

- **μ¶”μƒ ν΄λμ¤μ™€ μΈν„°νμ΄μ¤μ μ°¨μ΄**
    1. ν΄λμ¤λ” ν•λ‚μ μ¶”μƒ ν΄λμ¤λ§ μƒμ†λ°›μ„ μ μμ§€λ§ μΈν„°νμ΄μ¤λ” μ—¬λ¬ κ° κµ¬ν„ν•  μ μλ‹¤. 
    2. μ¶”μƒ ν΄λμ¤λ” μΈμ¤ν„΄μ¤ λ³€μ(ν•„λ“)λ΅ κ³µν†µ μƒνƒλ¥Ό κ°€μ§ μ μλ‹¤. ν•μ§€λ§ μΈν„°νμ΄μ¤λ” μΈμ¤ν„΄μ¤ λ³€μλ¥Ό κ°€μ§ μ μ—†λ‹¤. 
- Quiz. removeIf
    
    μ—¬λ¬λ¶„μ΄ μλ°” μ–Έμ–΄μ™€ APIμ λ‹¬μΈμ΄λΌκ³  κ°€μ •ν•μ. μ–΄λ λ‚  λ‹¤μμ μ‚¬μ©μλ΅λ¶€ν„° ArrayList.TreeSet, LinkedList λ° λ‹¤λ¥Έ λ¨λ“  μ»¬λ ‰μ…μ—μ„ μ‚¬μ©ν•  μ μλ” removeIf λ©”μ„λ“λ¥Ό μ¶”κ°€ν•΄λ‹¬λΌλ” μ”μ²­μ„ λ°›μ•λ‹¤. removeIf λ©”μ„λ“λ” μ£Όμ–΄μ§„ ν”„λ λ””μΌ€μ΄νΈμ™€ μΌμΉν•λ” λ¨λ“  μ”μ†λ¥Ό μ»¬λ ‰μ…μ—μ„ μ κ±°ν•λ” κΈ°λ¥μ„ κµ¬ν–‰ν•λ‹¤. μƒλ΅μ΄ removeIfλ¥Ό κΈ°μ΅΄ μ»¬λ ‰μ… APIμ— κ°€μ¥ μ μ ν•κ² μ¶”κ°€ν•λ” λ°©λ²•μ€ λ¬΄μ—‡μΌκΉ?
    
    - μ •λ‹µ
        
        μ°μ„  λ°λ€λ΅ μ»¬λ ‰μ… APIλ¥Ό κ³ μΉλ” κ°€μ¥ μΆ‹μ§€ μ•μ€ λ°©λ²•μ€ λ¬΄μ—‡μΌκΉ? μ»¬λ ‰μ… APIμ λ¨λ“  κµ¬ν„ ν΄λμ¤μ— removeIfλ¥Ό λ³µμ‚¬&λ¶™μ—¬λ„£κΈ° ν•λ” λ°©λ²•μ΄λ‹¤. 
        
        λ‹¤λ¥Έ λ°©λ²•μ€ μ—†μ„κΉ? λ¨λ“  μ»¬λ ‰μ… ν΄λμ¤λ” java.util.Collection μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ‹¤. κ·Έλ¬λ©΄ Collection μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•  μ μμ„κΉ? μ§€κΈκΉμ§€ ν™•μΈν• κ²ƒμ²λΌ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μΈν„°νμ΄μ¤μ— μ¶”κ°€ν•¨μΌλ΅μ¨ μ†μ¤ νΈν™μ„±μ„ μ μ§€ν•  μ μλ‹¤. κ·Έλ¬λ©΄ Collectionμ„ κµ¬ν„ν•λ” λ¨λ“  ν΄λμ¤(λ¬Όλ΅  μ»¬λ ‰μ… λΌμ΄λΈλ¬λ¦¬μ ν΄λμ¤λΏ μ•„λ‹λΌ Collection μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ κµ¬ν„ν• μ‚¬μ©μ ν΄λμ¤λ„ ν¬ν•¨)λ” μλ™μΌλ΅ removeIfλ¥Ό μ‚¬μ©ν•  μ μκ² λλ‹¤.
        
        ```java
        default boolean removeIf(Predicate<? super E> filter) {
            boolean removed = false;
            Iterator<E> each = iterator();
            while(each.hasNext()) {
                if(filter.test(each.next())) {
                    each.remove();
                    removed = true;
                }
            }
            return removed;
        }
        ```
        
    

# 13.3 λ””ν΄νΈ λ©”μ„λ“ ν™μ© ν¨ν„΄

## 13.3.1 μ„ νƒν• λ©”μ„λ“

μ μ‚¬μ©ν•μ§€ μ•λ” κΈ°λ¥(ex. remove)μ—λ” κΈ°λ¥μ„ λ¬΄μ‹ν•κ³  λΉ κµ¬ν„μ„ μ κ³µν–μ—λ‹¤. 

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•λ©΄ remove κ°™μ€ λ©”μ„λ“μ— κΈ°λ³Έ κµ¬ν„μ„ μ κ³µν•  μ μμΌλ―€λ΅ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤μ—μ„ λΉ κµ¬ν„μ„ μ κ³µν•  ν•„μ”κ°€ μ—†λ‹¤. μλ¥Ό λ“¤μ–΄ μλ°” 8μ Iterator μΈν„°νμ΄μ¤λ” λ‹¤μμ²λΌ remove λ©”μ„λ“λ¥Ό μ •μν•λ‹¤. 

```java
interface Iterator<T> {
    boolean hasNext();
    T next();
    **default void remove() {
        throw new UnsupportedOperationException();
    }**
}
```

κΈ°λ³Έ κµ¬ν„μ΄ μ κ³µλλ―€λ΅ Iterator μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ” λΉ remove λ©”μ„λ“λ¥Ό κµ¬ν„ν•  ν•„μ”κ°€ μ—†μ–΄μ΅κ³ , λ¶ν•„μ”ν• μ½”λ“λ¥Ό μ¤„μΌ μ μλ‹¤. 

## 13.3.2 λ™μ‘ λ‹¤μ¤‘ μƒμ†

λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•λ©΄ κΈ°μ΅΄μ—λ” λ¶κ°€λ¥ν–λ λ™μ‘ λ‹¤μ¤‘ μƒμ† κΈ°λ¥λ„ κµ¬ν„ν•  μ μλ‹¤. 

λ‹¤μμ²λΌ ν΄λμ¤λ” λ‹¤μ¤‘ μƒμ†μ„ μ„ν•΄ κΈ°μ΅΄ μ½”λ“λ¥Ό μ¬μ‚¬μ©ν•  μ μλ‹¤.

![](/assets/img/chaeshee0908/java-in-action/chap13/3.png){: width="650" }

**μλ°”μ—μ„ ν΄λμ¤λ” ν• κ°μ λ‹¤λ¥Έ ν΄λμ¤λ§ μƒμ†ν•  μ μμ§€λ§ μΈν„°νμ΄μ¤λ” μ—¬λ¬ κ° κµ¬ν„ν•  μ μλ‹¤**. λ‹¤μμ€ μλ°” APIμ— μ •μλ ArrayList ν΄λμ¤λ‹¤. 

```java
// ν• κ°μ ν΄λμ¤ μƒμ†, λ„¤ κ°μ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ‹¤. 
public class ArrayList<E> extends AbstractList<E>
    implements List<E>, RandomAccess, Cloneable, Serializable {
}
```

### λ‹¤μ¤‘ μƒμ† ν•μ‹

μ—¬κΈ°μ„ ArrayListλ” ν• κ°μ ν΄λμ¤λ¥Ό μƒμ†λ°›κ³ , μ—¬μ„― κ°μ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ‹¤. κ²°κ³Όμ μΌλ΅ ArrayListλ” AbstractList, List, RandomAccess, Cloneable, Serializable, Iterable, Collectionμ **μ„λΈ ν•μ‹**μ΄ λλ‹¤. λ”°λΌμ„ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ§€ μ•μ•„λ„ λ‹¤μ¤‘ μƒμ†μ„ ν™μ©ν•  μ μλ‹¤. 

μλ°” 8μ—μ„λ” μΈν„°νμ΄μ¤κ°€ κµ¬ν„μ„ ν¬ν•¨ν•  μ μμΌλ―€λ΅ ν΄λμ¤λ” μ—¬λ¬ μΈν„°νμ΄μ¤μ—μ„ λ™μ‘(κµ¬ν„ μ½”λ“)μ„ μƒμ†λ°›μ„ μ μλ‹¤. 

### κΈ°λ¥μ΄ μ¤‘λ³µλμ§€ μ•λ” μµμ†μ μΈν„°νμ΄μ¤

ex) νμ „X, ν¬κΈ° μ΅°μ O λ¨μ–‘ / νμ „O, μ›€μ§μ„O, ν¬κΈ° μ΅°μ X

μ΄λ¥Ό κµ¬ν„ν•λ ¤λ©΄ λ¨Όμ € setRotationAngleκ³Ό getRotationAngle λ‘ κ°μ μ¶”μƒ λ©”μ„λ“λ¥Ό ν¬ν•¨ν•λ” Rotatable μΈν„°νμ΄μ¤λ¥Ό μ •μν•λ‹¤. μΈν„°νμ΄μ¤λ” λ‹¤μ μ½”λ“μ—μ„ λ³΄μ—¬μ£Όλ” κ²ƒμ²λΌ setRotationAngleκ³Ό getRotationAngle λ©”μ„λ“λ¥Ό μ΄μ©ν•΄μ„ λ””ν΄νΈ λ©”μ„λ“ rotateByλ„ κµ¬ν„ν•λ‹¤. 

```java
public interface Rotatable {
    void setRotationAngle(int angleInDegrees);
    int getRotationAngle();
    // rotateBy λ©”μ„λ“μ κΈ°λ³Έ κµ¬ν„
    default void rotateBy(int angleInDegrees) {
        setRotationAngle((getRotationAngle() + angleInDegrees) % 360);
    }
}
```

Rotatableμ„ κµ¬ν„ν•λ” λ¨λ“  ν΄λμ¤λ” setRotationAngleκ³Ό getRotationAngleμ κµ¬ν„μ„ μ κ³µν•΄μ•Ό ν•λ‹¤. ν•μ§€λ§ rotateByλ” κΈ°λ³Έ κµ¬ν„μ΄ μ κ³µλλ―€λ΅ λ”°λ΅ κµ¬ν„μ„ μ κ³µν•μ§€ μ•μ•„λ„ λλ‹¤. 

λ§μ°¬κ°€μ§€λ΅ λ‘ κ°€μ§€ μΈν„°νμ΄μ¤ Moveableκ³Ό Resizableμ„ μ •μν•΄μ•Ό ν•λ‹¤. λ‘ μΈν„°νμ΄μ¤ λ¨λ‘ λ””ν΄νΈ κµ¬ν„μ„ μ κ³µν•λ‹¤. 

```java
public interface Moveable {
    int getX();
    int getY();
    void setX(int x);
    void setY(int y);

    default void moveHorizontally(int distance) {
        setX(getX() + distance);
    }

    default void moveVertically(int distance) {
        setY(getY() + distance);
    }
}
```

```java
public interface Resizable {
    int getWidth();
    int getHeight();
    void setWidth(int width);
    void setHeight(int height);
    void setAbsoluteSize(int width, int height);

    default void setRelativeSize(int wFactor, int hFactor) {
        setAbsoluteSize(getWidth() / wFactor, getHeight() / hFactor);
    }
}
```

### μΈν„°νμ΄μ¤ μ΅°ν•©

μ›€μ§μΌ μ μκ³ , νμ „ν•  μ μμΌλ©°, ν¬κΈ°λ¥Ό μ΅°μ ν•  μ μλ” κ΄΄λ¬Ό ν΄λμ¤ κµ¬ν„

```java
public class Monster implements Rotatable, Moveable, Resizable {
    ... // λ¨λ“  μ¶”μƒ λ©”μ„λ“μ κµ¬ν„μ€ μ κ³µν•΄μ•Ό ν•μ§€λ§ λ””ν΄νΈ λ©”μ„λ“μ κµ¬ν„μ€ μ κ³µν•  ν•„μ”κ°€ μ—†λ‹¤
}
```

Monster ν΄λμ¤λ” Rotatable, Moveable, Resizable μΈν„°νμ΄μ¤μ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μλ™μΌλ΅ μƒμ†λ°›λ”λ‹¤(rotateBy, moveHorizontally, moveVertically, setRelativeSize)

μƒμ†λ°›μ€ λ‹¤μ–‘ν• λ©”μ„λ“λ¥Ό μ§μ ‘ νΈμ¶ν•  μ μλ‹¤.

```java
Monster m = new Monster();  // μƒμ„±μλ” λ‚΄λ¶€μ μΌλ΅ μΆν‘, λ†’μ΄, λ„λΉ„, κΈ°λ³Έ κ°λ„λ¥Ό μ„¤μ •ν•λ‹¤
m.rotateBy(180);        // Rotataableμ rotateBy νΈμ¶
m.moveVertically(10);   // Moveableμ moveVertically νΈμ¶
```

μ΄λ²μ—λ” μ›€μ§μΌ μ μμΌλ©° νμ „ν•  μ μμ§€λ§, ν¬κΈ°λ¥Ό μ΅°μ ν•  μ μ—†λ” Sun ν΄λμ¤λ¥Ό μ •μν•λ‹¤.

```java
public class Sun implements Moveable, Rotatable {
    ...
}
```

![](/assets/img/chaeshee0908/java-in-action/chap13/4.png){: width="400" }

μΈν„°νμ΄μ¤μ— λ””ν΄νΈ κµ¬ν„μ„ ν¬ν•¨μ‹ν‚¤λ©΄ λ λ‹¤λ¥Έ μ¥μ μ΄ μƒκΈ΄λ‹¤. μλ¥Ό λ“¤μ–΄ moveVerticallyμ κµ¬ν„μ„ λ” ν¨μ¨μ μΌλ΅ κ³ μ³μ•Ό ν•λ‹¤κ³  κ°€μ •ν•μ. λ””ν΄νΈ λ©”μ„λ“ λ•λ¶„μ— Moveable μΈν„°νμ΄μ¤λ¥Ό μ§μ ‘ κ³ μΉ  μ μκ³  λ”°λΌμ„ Moveableμ„ κµ¬ν„ν•λ” λ¨λ“  ν΄λμ¤λ„ μλ™μΌλ΅ λ³€κ²½ν• μ½”λ“λ¥Ό μƒμ†λ°›λ”λ‹¤(λ¬Όλ΅  κµ¬ν„ ν΄λμ¤μ—μ„ λ©”μ„λ“λ¥Ό μ •μν•μ§€ μ•μ€ μƒν™©μ— ν•ν•΄μ„λ‹¤)

# 13.4 ν•΄μ„ κ·μΉ™

κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό λ‹¤μ¤‘ μƒμ† λ°›λ” μƒν™©μ—μ„ μ–΄λ–¤ μΈν„°νμ΄μ¤μ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•κ² λ  κ²ƒμΈκ°€?

```java
public interface A {
    default void hello() {
        System.out.println("Hello from A");
    }
}

public interface B extends A {
    default void hello() {
        System.out.println("Hello from B");
    }
}

public class C implements B, A {
    public static void main(String... args) {
        new C().hello();  // λ¬΄μ—‡μ΄ μ¶λ ¥λ κΉ?
    }
}
```

## 13.4.1 μ•μ•„μ•Ό ν•  μ„Έ κ°€μ§€ ν•΄κ²° κ·μΉ™

λ‹¤λ¥Έ ν΄λμ¤λ‚ μΈν„°νμ΄μ¤λ΅λ¶€ν„° κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” λ©”μ„λ“λ¥Ό μƒμ†λ°›μ„ λ•λ” μ„Έ κ°€μ§€ κ·μΉ™μ„ λ”°λΌμ•Ό ν•λ‹¤. 

1. **ν΄λμ¤**κ°€ ν•­μƒ μ΄κΈ΄λ‹¤. ν΄λμ¤λ‚ μνΌν΄λμ¤μ—μ„ μ •μν• λ©”μ„λ“κ°€ λ””ν΄νΈ λ©”μ„λ“λ³΄λ‹¤ μ°μ„ κ¶μ„ κ°–λ”λ‹¤.
2. 1λ² κ·μΉ™ μ΄μ™Έμ μƒν™©μ—μ„λ” **μ„λΈμΈν„°νμ΄μ¤**κ°€ μ΄κΈ΄λ‹¤. μƒμ†κ΄€κ³„λ¥Ό κ°–λ” μΈν„°νμ΄μ¤μ—μ„ κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” λ©”μ„λ“λ¥Ό μ •μν•  λ•λ” μ„λΈμΈν„°νμ΄μ¤κ°€ μ΄κΈ΄λ‹¤.
    
    β†’ μ¦‰, Bκ°€ Aλ¥Ό μƒμ†λ°›λ”λ‹¤λ©΄ Bκ°€ Aλ¥Ό μ΄κΈ΄λ‹¤.
    
3. μ—¬μ „ν λ””ν΄νΈ λ©”μ„λ“μ μ°μ„ μμ„κ°€ κ²°μ •λμ§€ μ•μ•λ‹¤λ©΄ μ—¬λ¬ μΈν„°νμ΄μ¤λ¥Ό **μƒμ†λ°›λ” ν΄λμ¤κ°€ λ…μ‹μ μΌλ΅ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“**ν•κ³  νΈμ¶ν•΄μ•Ό ν•λ‹¤. 

## 13.4.2 λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ” μ„λΈμΈν„°νμ΄μ¤κ°€ μ΄κΈ΄λ‹¤

Bμ™€ Aλ” helloλΌλ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ •μν•λ‹¤. λν• Bλ” Aλ¥Ό μƒμ†λ°›λ”λ‹¤. 

![](/assets/img/chaeshee0908/java-in-action/chap13/5.png){: width="500" }

2μ κ·μΉ™μ— λ”°λΌ Bμ helloλ¥Ό μ„ νƒν•λ‹¤. μ¦‰, β€Hello from Bβ€™λ¥Ό μ¶”λ ¥ν•λ‹¤. 

λ‹¤μμ²λΌ Cκ°€ Dλ¥Ό μƒμ†λ°›λ”λ‹¤λ©΄ μ–΄λ–»κ² λ μ§€ λ³΄μ

![](/assets/img/chaeshee0908/java-in-action/chap13/6.png){: width="500" }

```java
public class D implements A {  }
public class C extends D implements B, A {
    public static void main(String... args) {
        new C().hello(); // λ¬΄μ—‡μ΄ μ¶λ ¥λ κΉ?
    }
}
```

1λ² κ·μΉ™μ€ ν΄λμ¤μ λ©”μ„λ“ κµ¬ν„μ΄ κΈ΄λ‹¤κ³  μ„¤λ…ν•λ‹¤. Dλ” helloλ¥Ό μ¤λ²„λΌμ΄λ“ ν•μ§€ μ•μ•κ³  λ‹¨μν μΈν„°νμ΄μ¤ Aλ¥Ό κµ¬ν„ν–λ‹¤. λ”°λΌμ„ Dλ” μΈν„°νμ΄μ¤ Aμ λ””ν΄νΈ λ©”μ„λ“ κµ¬ν„μ„ μƒμ†λ°›λ”λ‹¤. 

2λ² κ·μΉ™μ—μ„λ” ν΄λμ¤λ‚ μνΌν΄λμ¤μ— **λ©”μ„λ“ μ •μκ°€ μ—†μ„ λ•**λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ •μν•λ” μ„λΈ μΈν„°νμ΄μ¤κ°€ μ„ νƒλλ‹¤. λ”°λΌμ„ μ»΄νμΌλ¬λ” μΈν„°νμ΄μ¤ Aμ helloλ‚ μΈν„°νμ΄μ¤ Bμ hello λ‘ μ¤‘ ν•λ‚λ¥Ό μ„ νƒν•΄μ•Ό ν•λ‹¤. μ—¬κΈ°μ„ Bκ°€ Aλ¥Ό μƒμ†λ°›λ” κ΄€κ³„μ΄λ―€λ΅ μ΄λ²μ—λ„ β€Hello from Bβ€™κ°€ μ¶λ ¥λλ‹¤. 

- Quiz. ν•΄μ„ κ·μΉ™μ„ κΈ°μ–µν•λΌ
    
    ν”„λ΅κ·Έλ¨μ μ‹¤ν–‰ κ²°κ³Όλ” λ¬΄μ—‡μΈκ°€?
    
    ```java
    public class D implements A {
        void hello() {
            System.out.println("Hello from D");
        }
    }
    
    public class C extends D implements B, A {
        public static void main(String... args) {
            new C().hello();
        }
    }
    ```
    
    - μ •λ‹µ
        
        μ‹¤ν–‰ κ²°κ³Όλ” β€Hello from Dβ€™μ΄λ‹¤. κ·μΉ™ 1μ— μν•΄ μνΌν΄λμ¤μ λ©”μ„λ“ μ •μκ°€ μ°μ„ κ¶μ„ κ°–κΈ° λ•λ¬Έμ΄λ‹¤. 
        
        Dκ°€ λ‹¤μμ²λΌ κµ¬ν„λμ—λ‹¤κ³  κ°€μ •ν•μ.
        
        ```java
        public abstract class D implements A {
            public abstract void hello();
        }
        ```
        
        κ·Έλ¬λ©΄ Aμ—μ„ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•¨μ—λ„ λ¶κµ¬ν•κ³  Cλ” helloλ¥Ό κµ¬ν„ν•΄μ•Ό ν•λ‹¤. 
        

## 13.4.3 μ¶©λ κ·Έλ¦¬κ³  λ…μ‹μ μΈ λ¬Έμ  ν•΄κ²°

μ΄λ²μ—λ” Bκ°€ Aλ¥Ό μƒμ†λ°›μ§€ μ•λ” μƒν™©μ΄λ‹¤. 

![](/assets/img/chaeshee0908/java-in-action/chap13/7.png){: width="350" }

```java
public interface A {
    default void hello() {
        System.out.println("Hello from A");
    }
}

public interface B {
    default void hello() {
        System.out.println("Hello from B");
    }
}

public class C implements B, A {  }
```

μ΄λ²μ—λ” μΈν„°νμ΄μ¤κ°„ μƒμ† κ΄€κ³„κ°€ μ—†μΌλ―€λ΅ 2λ² κ·μΉ™μ„ μ μ©ν•  μ μ—†λ‹¤. κ·Έλ¬λ―€λ΅ Aμ™€ Bμ hello λ©”μ„λ“λ¥Ό κµ¬λ³„ν•  κΈ°μ¤€μ΄ μ—†λ‹¤. 

λ”°λΌμ„ μλ°” μ»΄νμΌλ¬λ” μ–΄λ–¤ λ©”μ„λ“λ¥Ό νΈμ¶ν•΄μ•Ό ν• μ§€ μ• μ μ—†μΌλ―€λ΅ β€Error: class C inherits unrelated defaults for hello() from types B and Aβ€ κ°™μ€ μ—λ¬κ°€ λ°μƒν•λ‹¤.

### μ¶©λ ν•΄κ²°

ν΄λμ¤μ™€ λ©”μ„λ“ κ΄€κ³„λ΅ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ„ νƒν•  μ μ—†λ” μƒν™©μ—μ„ μ„ νƒν•  μ μλ” λ°©λ²•μ΄ μ—†λ‹¤.

β‡’ **ν΄λμ¤ Cμ—μ„ hello λ©”μ„λ“λ¥Ό μ¤λ²„λΌμ΄λ“ν• λ‹¤μμ— νΈμ¶ν•λ ¤λ” λ©”μ„λ“λ¥Ό λ…μ‹μ μΌλ΅ μ„ νƒν•΄μ•Ό ν•λ‹¤.** 

μλ°” 8μ—μ„λ” X.super.m(β€¦) ν•νƒμ μƒλ΅μ΄ λ¬Έλ²•μ„ μ κ³µν•λ‹¤. μ—¬κΈ°μ„ Xλ” νΈμ¶ν•λ ¤λ” λ©”μ„λ“ mμ μνΌ μΈν„°νμ΄μ¤λ‹¤. μλ¥Ό λ“¤μ–΄ λ‹¤μμ²λΌ Cμ—μ„ Bμ μΈν„°νμ΄μ¤λ¥Ό νΈμ¶ν•  μ μλ‹¤. 

```java
public class C implements B, A {
    void hello() {
        B.super.hello(); // λ…μ‹μ μΌλ΅ μΈν„°νμ΄μ¤ Bμ λ©”μ„λ“ μ„ νƒ
    }
}
```

- Quiz. κ±°μ λΉ„μ·ν• μ‹κ·Έλ‹μ²
    
    μΈν„°νμ΄μ¤ Aμ™€ Bκ°€ λ‹¤μμ²λΌ μ •μλμ–΄ μλ‹¤κ³  κ°€μ •ν•μ
    
    ```java
    public interface A {
        default Number getNumber() {
            return 10;
        }
    }
    
    public interface B {
        default Integer getNumber() {
            return 42;
        }
    }
    
    public class C implements B, A {
        public static void main(String... args) {
            System.out.println(new C().getNumber()));
        }
    }
    ```
    
    ν”„λ΅κ·Έλ¨ μ¶λ ¥ κ²°κ³Όλ”?
    
    - μ •λ‹µ
        
        Cλ” Aμ™€ B λ©”μ„λ“λ¥Ό κµ¬λ¶„ν•  μ μ—†λ‹¤. λ”°λΌμ„ ν΄λμ¤ Cμ—μ„ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤. 
        

## 13.4.4 λ‹¤μ΄μ•„λ¬λ“ λ¬Έμ 

```java
public interface A {
    default void hello() {
        System.out.println("Hello from A");
    }
}
public interface B extends A { }
public interface C extends A { }
public class D implements B, C {
    public static void main(String... args) {
        new D().hello();  // λ¬΄μ—‡μ΄ μ¶λ ¥λ κΉ?
    }
}
```

ν•΄λ‹Ή μ‹λ‚λ¦¬μ¤λ” **λ‹¤μ΄μ•„λ¬λ“ λ¬Έμ **λΌκ³  λ¶€λ¥Έλ‹¤. Dλ” Bμ™€ C μ¤‘ λ„κµ¬μ λ””ν΄νΈ λ©”μ„λ“ μ •μλ¥Ό μƒμ†λ°›μ„κΉ? μ‹¤μ λ΅ μ„ νƒν•  μ μλ” λ©”μ„λ“ μ„ μ–Έμ€ ν•λ‚λΏμ΄λ‹¤. Aλ§ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ •μν•κ³  μλ‹¤. κ²°κµ­ ν”„λ΅κ·Έλ¨ μ¶λ ¥ κ²°κ³Όλ” β€Hello from Aβ€™κ°€ λλ‹¤.

![](/assets/img/chaeshee0908/java-in-action/chap13/8.png){: width="500" }

Bμ™€ C λ¨λ‘ λ””ν΄νΈ λ©”μ„λ“ hello λ©”μ„λ“λ¥Ό μ •μν•λ‹¤λ©΄ μ¶©λμ΄ λ°μƒν•λ―€λ΅ λ‘ μ¤‘ ν•λ‚μ λ©”μ„λ“λ¥Ό λ…μ‹μ μΌλ΅ νΈμ¶ν•΄μ•Ό ν•λ‹¤. 

λ‹¤μμ²λΌ μΈν„°νμ΄μ¤ Cμ— μ¶”μƒ λ©”μ„λ“ hello(λ””ν΄νΈ λ©”μ„λ“ μ•„λ‹!)λ¥Ό μ¶”κ°€ν•λ©΄ μ–΄λ–¤μΌμ΄ λ°μƒν• κΉ(Aμ™€ Bμ—λ” μ•„λ¬΄ λ©”μ„λ“λ„ μ •μν•μ§€ μ•λ”λ‹¤)?

```java
public interface C extends A {
    void hello();
}
```

Cλ” Aλ¥Ό μƒμ†λ°›μΌλ―€λ΅ Cμ μ¶”μƒ λ©”μ„λ“ helloκ°€ Aμ λ””ν΄νΈ λ©”μ„λ“ helloλ³΄λ‹¤ μ°μ„ κ¶μ„ κ°–λ”λ‹¤. λ”°λΌμ„ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ©°, ν΄λμ¤ Dκ°€ μ–΄λ–¤ helloλ¥Ό μ‚¬μ©ν• μ§€ λ…μ‹μ μΌλ΅ μ„ νƒν•μ—¬ μ—λ¬λ¥Ό ν•΄κ²°ν•΄μ•Ό ν•λ‹¤.