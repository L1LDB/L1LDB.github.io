---
title: "π¦ chap13. λ””ν΄νΈ λ©”μ„λ“"
author: gengminy
date: 2024-01-06 19:40:00 +09:00
categories: [λ¨λ μλ°” μΈ μ•΅μ…, "chap13. λ””ν΄νΈ λ©”μ„λ“"]
tags: [λ¨λ μλ°” μΈ μ•΅μ…, JAVA, 13μ£Όμ°¨, λ…Έκ²½λ―Ό]
render_with_liquid: false
math: true
---

# chap13. λ””ν΄νΈ λ©”μ„λ“

# 13.1 λ³€ν™”ν•λ” API

μλ°” 8μ—μ„λ” κΈ°λ³Έ κµ¬ν„μ„ ν¬ν•¨ν•λ” μΈν„°νμ΄μ¤λ¥Ό μ •μν•  μ μλ‹¤.

1. μ •μ  λ©”μ„λ“ μ‚¬μ©
2. λ””ν΄νΈ λ©”μ„λ“ μ‚¬μ©

κ²°κ³Όμ μΌλ΅ κΈ°μ΅΄ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤λ” μλ™μΌλ΅ μΈν„°νμ΄μ¤μ— μ¶”κ°€λ μƒλ΅μ΄ λ©”μ„λ“μ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μƒμ†, κΈ°μ΅΄μ μ½”λ“ κµ¬ν„μ„ λ°”κΎΈλ„λ΅ κ°•μ”ν•μ§€ μ•μΌλ©΄μ„ μΈν„°νμ΄μ¤λ¥Ό λ³€κ²½ν•  μ μλ‹¤.

λ””ν΄νΈ λ©”μ„λ“κ°€ μ—†λ μ‹μ μ—λ” μΈν„°νμ΄μ¤μ— λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄μ„ μ—¬λ¬ λ¬Έμ κ°€ λ°μƒν–λ‹¤.

μƒλ΅ μ¶”κ°€λ λ©”μ„λ“λ¥Ό κµ¬ν„ν•λ„λ΅ μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” κΈ°μ΅΄ ν΄λμ¤λ¥Ό κ³ μ³μ•Όν•κΈ° λ•λ¬Έ

### 13.1.1 API λ²„μ „ 1

```java
public interface Resizable extends Drawable {
	int getWidth();
	int getHeight();
	void setWidth(int width);
	void setHeight(int height);
	void setAbsoluteSize(int width, int height);
}
```

### μ‚¬μ©μ κµ¬ν„

```java
public class Ellipse implements Resizable {
	...
}

public class Game {
	public static void main(String ...args) {
		List<Resizable> resizableShapes = Arrays.asList(new Square(), new Rectangle(), new Ellipse());
		Utils.paint(resizableShapes);
	}
}

public class Utils {
	public static void paint(List<Resizable> l) {
		l.forEach(r -> {
			r.setAbsoluteSize(42, 42);
			r.draw();
		});
	}
}
```

### 13.1.2 API λ²„μ „2

Resizable μ„ κµ¬ν„ν•λ” Square, Rentangle κµ¬ν„μ„ κ°μ„ ν•΄λ‹¬λΌλ” μ”μ²­μΌλ΅ λ²„μ „2λ¥Ό μ μ‘

```java
public interface Resizable extends Drawable {
	int getWidth();
	int getHeight();
	void setWidth(int width);
	void setHeight(int height);
	void setAbsoluteSize(int width, int height);
	**void setRelativeSize(int wFactor, int hFactor);**
}
```

### μ‚¬μ©μκ°€ κ²λ” λ¬Έμ 

λΌμ΄λΈλ¬λ¦¬ μ‚¬μ©μκ°€ μ§μ ‘ κµ¬ν„ν• Ellipse λ” μƒλ΅μ΄ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•λ”λ‹¤.

μΈν„°νμ΄μ¤μ— μƒλ΅μ΄ λ©”μ„λ“λ¥Ό μ¶”κ°€ν•λ©΄ λ°”μ΄λ„λ¦¬ νΈν™μ„±μ€ μ μ§€λλ‹¤.

ν•μ§€λ§ μ΄ν›„μ— μƒλ΅μ΄ λ©”μ„λ“λ¥Ό νΈμ¶ν•λ©΄ λ°νƒ€μ„ μ—λ¬κ°€ λ°μƒν•κ² λ  κ²ƒμ΄λ‹¤.

λν• μ „μ²΄ μ–΄ν”λ¦¬μΌ€μ΄μ…μ„ μ¬λΉλ“ν• λ• μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ‹¤.

- λ°”μ΄λ„λ¦¬ νΈν™μ„± : μ—λ¬μ—†μ΄ κΈ°μ΅΄ λ°”μ΄λ„λ¦¬κ°€ μ‹¤ν–‰λ  μ μλ” μƒν™© (νΈμ¶ν•μ§€ μ•λ” ν•)
- μ†μ¤ νΈν™μ„± : μ½”λ“λ¥Ό κ³ μ³λ„ κΈ°μ΅΄ ν”„λ΅κ·Έλ¨μ„ μ„±κ³µμ μΌλ΅ μ¬μ»΄νμΌν•  μ μμ
- λ™μ‘ νΈν™μ„± : μ½”λ“λ¥Ό λ°”κΎΌ λ‹¤μμ—λ„ κ°™μ€ μ…λ ¥κ°’μ΄ μ£Όμ–΄μ§€λ©΄ κ°™μ€ λ™μ‘μ„ μν–‰

# 13.2 λ””ν΄νΈ λ©”μ„λ“λ€ λ¬΄μ—‡μΈκ°€?

μμ‹ μ„ κµ¬ν„ν•λ” ν΄λμ¤μ—μ„ λ©”μ„λ“λ¥Ό κµ¬ν„ν•μ§€ μ•μ„ μ μλ” μƒλ΅μ΄ λ©”μ„λ“ μ‹κ·Έλ‹μ²λ¥Ό μ κ³µ

```java
public interface Sized {
	int size();
	default boolean isEmptry() {
		return size() == 0;
	}
}
```

μ΄μ  Sized μΈν„°νμ΄μ¤λ¥Ό κµ¬ν„ν•λ” λ¨λ“  ν΄λμ¤λ” isEmpty μ κµ¬ν„λ„ μƒμ†λ°›λ”λ‹¤.

μλ°” 8 API μ—μ„λ” λ””ν΄νΈ λ©”μ„λ“κ°€ μƒλ‹Ήν λ§μ΄ ν™μ©λμ—μ„ κ²ƒμ„μ„ μ¶”μΈ΅ν•  μ μλ‹¤.

- Collection β†’ stream
- List β†’ sort
- ν•¨μν• μΈν„°νμ΄μ¤ (λ””ν΄νΈ λ©”μ„λ“λ” μ¶”μƒ λ©”μ„λ“κ°€ μ•„λ‹)

### μ¶”μƒ ν΄λμ¤μ™€ μλ°” 8μ μΈν„°νμ΄μ¤ μ°¨μ΄

- μƒμ† : μ¶”μƒ ν΄λμ¤λ” 1κ°λ§ μƒμ†, μΈν„°νμ΄μ¤λ” μ—¬λ¬ κ° κµ¬ν„ κ°€λ¥
- λ³€μ : μ¶”μƒ ν΄λμ¤λ” μΈμ¤ν„΄μ¤ λ³€μλ΅ κ³µν†µ μƒνƒλ¥Ό κ°€μ§ μμμ, μΈν„°νμ΄μ¤λ” μΈμ¤ν„΄μ¤ λ³€μκ°€ μ—†λ‹¤

# 13.3 λ””ν΄νΈ λ©”μ„λ“ ν™μ© ν¨ν„΄

### 13.3.1 μ„ νƒν• λ©”μ„λ“

μλ°” 8 μ΄μ „μ— Iterator λ” remove κΈ°λ¥μ„ μ μ‚¬μ©ν•μ§€ μ•μ•„ μ΄ κΈ°λ¥μ„ λ¬΄μ‹ν–κ³ , λ§μ€ Iterator λ¥Ό κµ¬ν„ν•λ” ν΄λμ¤μ—μ„ λΉ κµ¬ν„μ„ μ κ³µν–λ‹¤.

λ°λ©΄ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ΄μ©ν•λ©΄ λΉ κµ¬ν„μ„ μ κ³µν•μ§€ μ•μ•„ λ¶ν•„μ”ν• μ½”λ“λ¥Ό μ¤„μΌ μ μλ‹¤.

```java
interface Iterator<T> {
	boolean hasNext();
	T next();
	default void remove() {
		throw new UnsupportedOperationException();
	}
}
```

### 13.3.2 λ™μ‘ λ‹¤μ¤‘ μƒμ†

μλ°”μ—μ„ ν΄λμ¤λ” 1κ°μ λ‹¤λ¥Έ ν΄λμ¤λ§ μƒμ†λ°›μ„ μ μμ§€λ§

μΈν„°νμ΄μ¤λ” μ—¬λ¬ κ°λ¥Ό κµ¬ν„ν•  μ μλ‹¤.

```java
public class ArrayList<E> extends AbstractList<E>
	implements List<E>, RandomAccess, Cloneable, Serializable {}
```

### λ‹¤μ¤‘ μƒμ† ν•μ‹

ArrayList λ” κ²°κ³Όμ μΌλ΅ AbstractList, List, RandomAccess, Cloneable, Serializable, Iterable, Collection μ μ„λΈ ν•μ‹μ΄ λμ–΄ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ‚¬μ©ν•μ§€ μ•κ³ λ„ λ‹¤μ¤‘ μƒμ†μ„ ν™μ©ν•  μ μλ‹¤.

### κΈ°λ¥μ΄ μ¤‘λ³µλμ§€ μ•λ” μµμ†μ μΈν„°νμ΄μ¤

```java
public interface Rotatable {}

public interface Movable {}

public interface Resizable {}
```

### μΈν„°νμ΄μ¤ μ΅°ν•©

μ΄λ“¤ μΈν„°νμ΄μ¤λ¥Ό μ΅°ν•©ν•΄ λ‹¤μ–‘ν• ν΄λμ¤λ¥Ό κµ¬ν„ν•  μ μλ‹¤.

```java
public class Monster implements Rotatable, Moveable, Resizable {}

public class Sun implements Moveable, Rotatable {}
```

# 13.4 ν•΄μ„ κ·μΉ™

μλ°” 8μ— λ””ν΄νΈ λ©”μ„λ“κ°€ μ¶”κ°€λλ©΄μ„ κ°™μ€ μ‹κ·Έλ‹μ²λ¥Ό κ°–λ” λ””ν΄νΈ λ©”μ„λ“λ¥Ό μƒμ†λ°›λ” μƒν™©μ΄ μƒκΈΈ μ μλ‹¤.

### 13.4.1 μ•μ•„μ•Ό ν•  μ„Έ κ°€μ§€ ν•΄κ²° κ·μΉ™

1. ν΄λμ¤λ‚ μνΌν΄λμ¤μ—μ„ μ •μν• λ©”μ„λ“κ°€ λ””ν΄νΈ λ©”μ„λ“λ³΄λ‹¤ μ°μ„ 
2. κ·Έ μ™Έμ— μƒμ†κ΄€κ³„λ¥Ό κ°–λ” μΈν„°νμ΄μ¤μ—μ„λ” μ„λΈ μΈν„°νμ΄μ¤κ°€ μ°μ„ 
3. κ·ΈλΌμ—λ„ μ •ν•΄μ§€μ§€ μ•λ”λ‹¤λ©΄ λ…μ‹μ μΌλ΅ μ¤λ²„λΌμ΄λ“ ν•΄μ•Όν•λ‹¤.

### 13.4.2 λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ κ³µν•λ” μ„λΈμΈν„°νμ΄μ¤κ°€ μ΄κΈ΄λ‹¤

```java
public class D implements A {}

public class C extends D implements B, A {
	public static void main(String ...args) {
		new C().hello();
	}
}
```

### 13.4.3 μ¶©λκ·Έλ¦¬κ³  λ…μ‹μ μΈ ν•΄κ²°

λ‹¤μμ€ μΈν„°νμ΄μ¤κ°„ μƒμ†κ΄€κ³„κ°€ μ—†μ–΄ hello λ©”μ„λ“λ¥Ό κµ¬λ³„ν•  κΈ°μ¤€μ΄ μ—†κ³ , μ—λ¬κ°€ λ°μƒν•λ‹¤.

```java
public interface A {
	default void hello() {}
}

public interface B {
	default void hello() {}
}

public class C implements B, A {}
```

### μ¶©λ ν•΄κ²°

ν΄λμ¤μ™€ λ©”μ„λ“ κ΄€κ³„λ΅ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ„ νƒν•  μ μ—†λ‹¤λ©΄ λ…μ‹μ μΌλ΅ μ„ νƒν•΄μ£Όμ–΄μ•Ό ν•λ‹¤.

μλ°” 8μ—μ„λ” μνΌ μΈν„°νμ΄μ¤μ λ©”μ„λ“λ¥Ό νΈμ¶ν•  μ μλ” λ¬Έλ²•μ„ μ κ³µν•λ‹¤.

```java
public class C implements B, A {
	void hello() {
		B.super.hello(); // λ…μ‹μ μΌλ΅ Bμ λ©”μ„λ“λ¥Ό μ„ νƒ
	}
}
```

### 13.4.4 λ‹¤μ΄μ•„λ¬λ“ λ¬Έμ 

```java
public interface A {
	default void hello() {}
}

public interface B extends A {}
public interface C extends A {}

public class D implements B, C {
	public static void main(String ..args) {
		new D().hello();
	}
}
```

μ΄λ” Aλ§ λ””ν΄νΈ λ©”μ„λ“λ¥Ό μ •μν•κ³  μμ–΄ Aμ λ©”μ„λ“κ°€ νΈμ¶λλ‹¤.

λ§μ•½ Bμ—λ„ κ°™μ€ μ‹κ·Έλ‹μ²μ λ””ν΄νΈ λ©”μ„λ“κ°€ μλ‹¤λ©΄?

μ΄ λ•λ” μ¶©λμ΄ λ°μƒν•κΈ° λ•λ¬Έμ— λ…μ‹μ  νΈμ¶μ΄ ν•„μ”ν•λ‹¤

λ§μ•½ Cμ— λ””ν΄νΈ λ©”μ„λ“κ°€ μ•„λ‹ μ¶”μƒ λ©”μ„λ“ hello λ¥Ό μ¶”κ°€ν•λ©΄?

```java
public interface C extends A {
	void hello();
}
```

Cλ” Aλ¥Ό μƒμ†λ°›κΈ° λ€λ¬Έμ— Cμ λ©”μ„λ“κ°€ νΈμ¶λλ‹¤

μ¦‰ μ»΄νμΌ μ—λ¬κ°€ λ°μƒν•λ©°, ν΄λμ¤ Dλ” μ–΄λ–¤ hello λ¥Ό μ‚¬μ©ν• μ§€ λ…μ‹μ μΌλ΅ μ„¤μ •ν•΄μ•Ό ν•λ‹¤.
