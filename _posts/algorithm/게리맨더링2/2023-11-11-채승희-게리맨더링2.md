---
title: ğŸ¹ ê²Œë¦¬ë§¨ë”ë§2
author: chaeshee0908
date: 2023-11-11 20:00:00 +09:00
categories: [ì•Œê³ ë¦¬ì¦˜, ê²Œë¦¬ë§¨ë”ë§2]
tags: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€, ê³¨ë“œ3, êµ¬í˜„, 6ì£¼ì°¨, ì±„ìŠ¹í¬]
render_with_liquid: false
---

## 1. ë¬¸ì œ ë§í¬

[17779ë²ˆ: ì‚¬ë‹¤ë¦¬ íƒ€ê¸°](https://www.acmicpc.net/problem/17779)

<br>

## 2. ì½”ë“œ

`Python3`  `34260KB`  `3588ms`

```python
N = int(input())
city = []
for _ in range(N):
    city.append(list(map(int, input().split())))
INF = int(1e9)

from itertools import product
from collections import deque

numbers = [i for i in range(N+1)]
result = INF
dx = [0, 0, -1, 1]
dy = [-1, 1, 0, 0]

def check_boundary(x, y, d1, d2):
    boundary1 = [(x + i, y - i) for i in range(d1+1)]
    boundary2 = [(x + i, y + i) for i in range(d2+1)]
    boundary3 = [(x + d1 + i, y - d1 + i) for i in range(d2+1)]
    boundary4 = [(x + d2 + i, y + d2 - i) for i in range(d1+1)]
    all_boundary = list(set(boundary1 + boundary2 + boundary3 + boundary4))
    for boundary in all_boundary:
        r, c = boundary
        area_info[r][c] = 5
    
    return all_boundary

def check_area5(boundary):
    boundary_dict = {}
    for b in boundary:
        x, y = b
        if x in boundary_dict:
            boundary_dict[x].append(y)
        else:
            boundary_dict[x] = [y]
    
    # ê²½ê³„ì„  ì•ˆì„ 5ë¡œ ì±„ìš°ê¸°
    for k in boundary_dict.keys():
        if len(boundary_dict[k]) == 1:
            continue
        start, end = min(boundary_dict[k]), max(boundary_dict[k])
        for i in range(start + 1, end):
            area_info[k][i] = 5

def check_other_area(sx, sy, ex, ey, area_num):
    q = deque([])
    # 4ì¼ë•Œë§Œ ëì§€ì ì—ì„œ íƒìƒ‰
    if area_num == 4:
        q.append((ex, ey))
        area_info[ex][ey] = area_num
    else:
        q.append((sx, sy))
        area_info[sx][sy] = area_num
    while q:
        x, y = q.popleft()
        for i in range(4):
            nx = x + dx[i]
            ny = y + dy[i]
            if sx <= nx <= ex and sy <= ny <= ey and area_info[nx][ny] == 0:
                area_info[nx][ny] = area_num
                q.append((nx, ny))

def check_area_people():
    for i in range(N):
        for j in range(N):
            area_people[area_info[i][j]-1] += city[i][j]

for p in product(numbers, repeat=4):
    x, y, d1, d2 = p
    # ê¸°ì¤€ì ì´ ì¬í˜„ì‹œ ë°–ì´ê±°ë‚˜ ì´ë™ ê±°ë¦¬ê°€ 0ì¼ ë•Œ 
    if x == N or y == N or d1 == 0 or d2 == 0:
        continue
    # ê²½ê³„ ì¤‘ í•œ ê°’ì´ë¼ë„ ì¬í˜„ì‹œ ë°–ì¼ ë•Œ
    if x + d1 >= N or y - d1 < 0 or x + d2 >= N or y + d2 >= N or x + d2 + d1 >= N or y + d2 - d1 < 0 or y + d2 - d1 >= N:
        continue
    area_info = [[0] * N for _ in range(N)]
    area_people = [0] * 5
    boundary = check_boundary(x, y, d1, d2)
    check_area5(boundary)   # 5êµ¬ì—­ ì²´í¬
    check_other_area(0, 0, x + d1 - 1, y, 1)       # 1êµ¬ì—­ ì²´í¬
    check_other_area(0, y + 1, x + d2, N-1, 2)      # 2êµ¬ì—­ ì²´í¬
    check_other_area(x + d1, 0, N-1, y - d1 + d2 - 1, 3)   # 3êµ¬ì—­ ì²´í¬
    check_other_area(x + d2 + 1, y - d1 + d2, N-1, N-1, 4) # 4êµ¬ì—­ ì²´í¬
    check_area_people() # êµ¬ì—­ë³„ ì‚¬ëŒìˆ˜ í™•ì¸
    area_people.sort()
    diff = area_people[4] - area_people[0]  # ì¸êµ¬ê°€ ê°€ì¥ ë§ì€ ì„ ê±°êµ¬ì™€ ê°€ì¥ ì ì€ ì„ ê±°êµ¬ì˜ ì¸êµ¬ ì°¨ì´
    result = min(result, diff)

print(result)
```

<br>

## 3. í•´ì„¤
    
area_infoëŠ” ê° êµ¬ì—­ ë²ˆí˜¸ë¥¼ ì €ì¥í•œë‹¤. 

ì£¼ì–´ì§„ ê²½ê³„ì„  ìœ„ì¹˜ì˜ ê°’ì„ 5ë¡œ ì €ì¥í•˜ê³ , ê²½ê³„ì„  ì•ˆì˜ ê°’ë„ 5ë¡œ ì´ˆê¸°í™”í•œë‹¤. ì´ë•Œ ë‹¤ë¥¸ êµ¬ì—­ê³¼ëŠ” ë‹¤ë¥´ê²Œ bfsë¥¼ ì‚¬ìš©í•´ì„œ ê°’ì„ ì±„ìš°ë©´ 5ë¡œ ë‘˜ëŸ¬ì‹¸ì¸ ê³µê°„ì—ëŠ” ê°’ì„ ë„£ì„ ìˆ˜ ì—†ìœ¼ë¯€ë¡œ ê²½ê³„ì„ ë§ˆë‹¤ xê°’ì— í•´ë‹¹í•˜ëŠ” yêµ¬ì—­ ë‚´ì˜ ìœ„ì¹˜ë¥¼ ëª¨ë‘ 5ë¡œ ì´ˆê¸°í™”í•œë‹¤. 

ë‚˜ë¨¸ì§€ 1,2,3,4 êµ¬ì—­ì€ bfsë¥¼ ì‚¬ìš©í•˜ì—¬ êµ¬ì—­ ë²ˆí˜¸ë¥¼ ì €ì¥í•œë‹¤. ì´ë•Œ 1,2,3 êµ¬ì—­ì€ ê° ì‹œì‘ ë¶€ë¶„ë¶€í„° íƒìƒ‰í•˜ì§€ë§Œ 4êµ¬ì—­ì˜ ì‹œì‘ë¶€ë¶„ì€ 5êµ¬ì—­ê³¼ ê²¹ì¹˜ê²Œ ë˜ë¯€ë¡œ ë§ˆì§€ë§‰ ë¶€ë¶„(N-1, N-1)ë¶€í„° íƒìƒ‰í•œë‹¤. 

ê° êµ¬ì—­ë²ˆí˜¸ë¥¼ ì €ì¥í–ˆìœ¼ë©´ êµ¬ì—­ë²ˆí˜¸ë³„ë¡œ ì¸ì›ìˆ˜ë¥¼ area_peopleì— ì €ì¥í•œë‹¤. 

area_peopleì„ ì •ë ¬í•œ í›„ ì¸êµ¬ê°€ ê°€ì¥ ë§ì€ ì„ ê±°êµ¬ì™€ ê°€ì¥ ì ì€ ì„ ê±°êµ¬ì˜ ì¸êµ¬ ì°¨ì´ ì¦‰, ë¦¬ìŠ¤íŠ¸ì˜ ë§ˆì§€ë§‰ ê°’ê³¼ ì²« ë²ˆì§¸ ê°’ì˜ ì°¨ë¥¼ êµ¬í•œ í›„ ê²°ê³¼ê°’ê³¼ ë¹„êµí•˜ì—¬ ìµœì†Ÿê°’ì„ ì €ì¥í•œë‹¤.
