---
title: ğŸ¦Š íŠ¸ë¦¬ì˜ ìˆœíšŒ
author: gengminy
date: 2023-10-29 20:00:00 +09:00
categories: [ì•Œê³ ë¦¬ì¦˜, íŠ¸ë¦¬ì˜ ìˆœíšŒ]
tags: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€, ê³¨ë“œ1, ì¬ê·€, 5ì£¼ì°¨, ë…¸ê²½ë¯¼]
render_with_liquid: false
---

## 1. ë¬¸ì œ ë§í¬

[16509ë²ˆ: íŠ¸ë¦¬ì˜ ìˆœíšŒ](https://www.acmicpc.net/problem/2263)

<br>

## 2. ì½”ë“œ

```python
import sys
sys.setrecursionlimit(10 ** 6)

def find_root(in_start, in_end, post_start, post_end):
    global in_order_index
    global post_order
    
    if in_start > in_end or post_start > post_end:
        return
    
    root = post_order[post_end]
    in_root_index = in_order_index[root]
    
    left_root = in_root_index - in_start
    right_root = in_end - in_root_index
    
    print(root, end = " ")
    find_root(in_start, left_root + in_start - 1, post_start, left_root + post_start - 1)
    find_root(in_end - right_root + 1, in_end, post_end - right_root, post_end - 1)
    

n = int(input())

in_order = list(map(int, input().split()))
post_order = list(map(int, input().split()))

in_order_index = [0] * (n + 1)
for i in range(n):
    in_order_index[in_order[i]] = i

find_root(0, n - 1, 0, n - 1)
```

`Python3` `71288kb` `400ms`

- í‹€ë¦° ì½”ë“œ (ë©”ëª¨ë¦¬ ì´ˆê³¼)
    
    ```java
    def index_of(list, elem):
        for i in range(len(list)):
            if list[i] == elem:
                return i
        return -1
    
    ans = []
    def find_root(in_order_subtree, pre_root, start_index):
        global ans
        global post_order
    
        # print(in_order_subtree, pre_root, start_index)
        ans.append(pre_root)
        # ë£¨íŠ¸ ì¸ë±ìŠ¤ë¥¼ ê¸°ì¤€ìœ¼ë¡œ in orderì˜ ì™¼ìª½ ì˜¤ë¥¸ìª½ ë¶„ë¦¬
        root_index = index_of(in_order_subtree, pre_root)
        if root_index < 0:
            return
        
        left_subtree = in_order_subtree[0 : root_index]
        right_subtree = in_order_subtree[(root_index + 1) : len(in_order_subtree)]
        
        # print(left_subtree, right_subtree)
        
        # post order ì—ì„œ ì™¼ìª½ ì„œë¸ŒíŠ¸ë¦¬ì™€ ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ ê²½ê³„ë¥¼ ì°¾ìŒ
        left_root_index = start_index + len(left_subtree) - 1
        if left_subtree and left_root_index != -1:
            find_root(left_subtree, post_order[left_root_index], start_index)
    
        right_root_index = start_index + len(left_subtree) + len(right_subtree) - 1
        if right_subtree and right_root_index != -1:
            find_root(right_subtree, post_order[right_root_index], start_index + len(left_subtree))
    
    n = int(input())
    
    in_order = list(map(int, input().split()))
    post_order = list(map(int, input().split()))
    
    find_root(in_order, post_order[-1], 0)
    print(' '.join(str(i) for i in ans))
    ```

<br>

## 3. í•´ì„¤

- í•´ì„¤
    
    ```python
    # ì™¼ìª½ ì„œë¸ŒíŠ¸ë¦¬ì™€ ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ë¥¼ ì°¾ëŠ” ê²ƒì„ ë°˜ë³µí•˜ë©´ì„œ íŠ¸ë¦¬ë¥¼ ë¶„ë¦¬í•¨
    
    # 1. post order ì˜ ê°€ì¥ ë§ˆì§€ë§‰ ë…¸ë“œëŠ” ë£¨íŠ¸ ë…¸ë“œ
    # 2. in order ì—ì„œ ë£¨íŠ¸ ë…¸ë“œë¥¼ ê¸°ì¤€ìœ¼ë¡œ ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ ì°¾ìŒ
    
    # 3. in order ì—ì„œ ì°¾ì€ ê²½ê³„ë¥¼ í†µí•´ post order ì—ì„œ ì™¼ìª½ê³¼ ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ì˜ ê²½ê³„ë¥¼ ì°¾ìŒ
    # 4. ê²½ê³„ì˜ ì™¼ìª½ì—ì„œ ë§ˆì§€ë§‰ ë…¸ë“œëŠ” ì™¼ìª½ ì„œë¸ŒíŠ¸ë¦¬ì˜ ë£¨íŠ¸ ë…¸ë“œì„
    # ë§ˆì°¬ê°€ì§€ë¡œ ì˜¤ë¥¸ìª½ì—ì„œ ë§ˆì§€ë§‰ ë…¸ë“œëŠ” ì˜¤ë¥¸ìª½ ì„œë¸ŒíŠ¸ë¦¬ì˜ ë£¨íŠ¸ ë…¸ë“œì„
    
    # 5. pre order ì—ì„œëŠ” ë£¨íŠ¸ê°€ ë¨¼ì € ë‚˜ì˜¤ê¸° ë•Œë¬¸ì— ë£¨íŠ¸ë¥¼ ì°¾ì„ ë•Œ ë§ˆë‹¤ ì¶œë ¥í•˜ë©´ë¨
    # ë°˜ë³µ
    ```
    