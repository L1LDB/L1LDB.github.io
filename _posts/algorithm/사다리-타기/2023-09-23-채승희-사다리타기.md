---
title: ğŸ¹ ì‚¬ë‹¤ë¦¬ íƒ€ê¸°
author: chaeshee0908
date: 2023-09-23 20:00:00 +09:00
categories: [ì•Œê³ ë¦¬ì¦˜, ì‚¬ë‹¤ë¦¬ íƒ€ê¸°]
tags: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€, ê³¨ë“œ5, êµ¬í˜„, 1ì£¼ì°¨, ì±„ìŠ¹í¬]
render_with_liquid: false
---

## 1. ë¬¸ì œ ë§í¬

[2469ë²ˆ: ì‚¬ë‹¤ë¦¬ íƒ€ê¸°](https://www.acmicpc.net/problem/2469)

<br>

## 2. ì½”ë“œ

`Python3`  `31256KB`  `84ms`

```python
k = int(input())
n = int(input())
alpha = [chr(65 + i) for i in range(k)]
start_order = list(' '.join(alpha))
final_order = list(' '.join(list(input())))
h_len = len(start_order)
ladder = []
ladder.append(start_order)
for i in range(n):
    line = list(input())
    line = list(' ' + ' '.join(line) + ' ')
    if '?' in line:
        hidden = i + 1  # ë¬¼ìŒí‘œ ê°€ë¡œì¤„ ìœ„ì¹˜
    ladder.append(line)
ladder.append(final_order)

final_idx = []
for a in final_order:
    final_idx.append(start_order.index(a))

# ê°™ì€ ì•ŒíŒŒë²³ ë¬¼ìŒí‘œì—ì„œ ë§Œë‚˜ì„œ ê¸¸ì°¾ê¸°
def connect_road(idx):
    sx, sy = 0, idx
    ex, ey = n+1, final_idx.index(idx)
    # ìœ„ì—ì„œ ë¬¼ìŒí‘œê¹Œì§€ ë‚´ë ¤ê°€ê¸°
    while sx != hidden:
        sx += 1
        # ë¬¼ìŒí‘œ ë¼ì¸ ë„ì°©ì‹œ ì›€ì§ì´ì§€ ì•Šë„ë¡ í•¨
        if sx == hidden:
            break
        # ì™¼ìª½ì— ë§‰ëŒ€ê¸° ìˆì„ ì‹œ ì™¼ìª½ìœ¼ë¡œ ì´ë™
        if 0 < sy - 1 and ladder[sx][sy - 1] == '-':
            sy -= 2
        # ì˜¤ë¥¸ìª½ì— ë§‰ëŒ€ê¸° ìˆì„ ì‹œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™
        elif sy + 1 < h_len and ladder[sx][sy + 1] == '-':
            sy += 2
    # ë°‘ì—ì„œ ë¬¼ìŒí‘œê¹Œì§€ ì˜¬ë¼ê°€ê¸°
    while ex != hidden:
        ex -= 1
        # ë¬¼ìŒí‘œ ë¼ì¸ ë„ì°©ì‹œ ì›€ì§ì´ì§€ ì•Šë„ë¡ í•¨
        if ex == hidden:
            break
        # ì™¼ìª½ì— ë§‰ëŒ€ê¸° ìˆì„ ì‹œ ì™¼ìª½ìœ¼ë¡œ ì´ë™
        if 0 < ey - 1 and ladder[ex][ey - 1] == '-':
            ey -= 2
        # ì˜¤ë¥¸ìª½ì— ë§‰ëŒ€ê¸° ìˆì„ ì‹œ ì˜¤ë¥¸ìª½ìœ¼ë¡œ ì´ë™
        elif ey + 1 < h_len and ladder[ex][ey + 1] == '-':
            ey += 2
    # ê°€ë¡œ ê¸¸ì´ ì°¨ì´ê°€ 3ì´ìƒ ë‚  ê²½ìš°(ì‹¤ì œë¡œëŠ” ê°€ë¡œ í•œ ì¹¸ ì°¨ì´ë³´ë‹¤ í´ ê²½ìš°)
    if abs(sy - ey) > 2:
        return False    # ì‚¬ë‹¤ë¦¬ ë¶ˆê°€ëŠ¥í•œ ê²½ìš°
    # ë‹¤ë¦¬ë¥¼ ì•ˆë†”ë„ ë§Œë‚˜ëŠ” ê²½ìš°
    if sy == ey:
        return True
    # ë‹¤ë¦¬ ë†“ê¸°(ì¤‘ë³µìœ¼ë¡œ ë†“ê¸° ê°€ëŠ¥)
    ladder[hidden][max(sy, ey)-1] = '-'
    return True

fail = False

for i in range(h_len):
    if start_order[i] == ' ':
        continue
    # ë¶ˆê°€ëŠ¥í•œ ê²½ìš°
    if not connect_road(i): 
        print('x' * (k-1))
        fail = True
        break

if not fail:
    print(''.join(ladder[hidden]).replace(' ', '').replace('?', '*'))

```

<br>

## 3. í•´ì„¤
    
```
A   B   C   D   E   F   G   H   I   J 
  *   -   *   *   *   -   *   *   *   
  -   *   -   *   *   *   *   *   *   
  ?   ?   ?   ?   ?   ?   ?   ?   ?   
  -   *   *   -   *   *   *   -   *   
  *   *   -   *   -   *   -   *   -   
A   C   G   B   E   D   J   F   I   H
```

ìœ„ì²˜ëŸ¼ ì‹œì‘ì ê³¼ ë¹ˆì¹¸ì´ ìˆëŠ” ì‚¬ë‹¤ë¦¬ ëª¨ì–‘ì„ ë§Œë“ ë‹¤.

ê°™ì€ ì•ŒíŒŒë²³ì˜ ì‹œì‘ ìœ„ì¹˜ì™€ ë ìœ„ì¹˜ì˜ ì¸ë±ìŠ¤ë¥¼ `?`ì˜ ìœ„ì¹˜ë¡œ ì‚¬ë‹¤ë¦¬ë¥¼ íƒ€ë©´ì„œ ì˜®ê¸´ í›„ 

1. ë°”ë¡œ ë§Œë‚˜ë©´(ì¸ë±ìŠ¤ê°€ ë˜‘ê°™ìœ¼ë©´) ë‹¤ë¦¬ë¥¼ ë†“ì§€ ì•Šê³ 
2. ê°€ë¡œë¡œ 2ì¹¸ ì°¨ì´ê°€ ë‚  ë•ŒëŠ” ê·¸ ì‚¬ì´ì— ë‹¤ë¦¬ë¥¼ ë†“ê³ 
3. ê°€ë¡œê°€ 2ì¹¸ë³´ë‹¤ ë” í¬ê²Œ ì°¨ì´ê°€ ë‚  ë•ŒëŠ” ë¶ˆê°€ëŠ¥í•œ ê²½ìš°ì„(ë‹¤ë¦¬ê°€ ê¸¸ì´ 1ì´ ë„˜ìœ¼ë©´ ì•ˆë˜ê¸° ë•Œë¬¸)

3ë²ˆì¼ ê²½ìš°ëŠ” ë°”ë¡œ xë¥¼ k ê¸¸ì´ë§Œí¼ ì¶œë ¥í•˜ê³  2ì˜ ê²½ìš° ë‹¤ë¦¬ë¥¼ ë‹¤ ë†“ì€ í›„ `?` ìë¦¬ëŠ” `*`ë¡œ ë³€ê²½í•´ ì¶œë ¥
