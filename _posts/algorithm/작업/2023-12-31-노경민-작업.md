---
title: ğŸ¦Š ì‘ì—…
author: gengminy
date: 2023-12-31 02:00:00 +09:00
categories: [ì•Œê³ ë¦¬ì¦˜, ì‘ì—…]
tags: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€, ê³¨ë“œ4, ìœ„ìƒì •ë ¬, 11ì£¼ì°¨, ë…¸ê²½ë¯¼]
render_with_liquid: false
math: true
---

## 1. ë¬¸ì œ ë§í¬

[2056ë²ˆ: ì‘ì—…](https://www.acmicpc.net/problem/2056)

<br>

## 2. ì½”ë“œ

`Pypy3` `136904KB` `632ms`

```python
N = int(input())

workflow = [] # ë‹¤ìŒë…¸ë“œ
pre_workflow = [] # ì„ í–‰ë…¸ë“œ
in_degree = [0] * N # ì§„ì…ì°¨ìˆ˜
visit = [0] * N # ë°©ë¬¸
time = []
for i in range(N):
    workflow.append([])
    pre_workflow.append([])

for i in range(N):
    work = list(map(int, input().split()))

    # ê±¸ë¦¬ëŠ” ì‹œê°„
    time.append(work[0])
    # ì„ í–‰ ì‘ì—… ì—°ê²°
    for j in range(work[1]):
        pre_work = work[2 + j]
        # ë‹¤ìŒì— ì§„í–‰í•´ì•¼í•˜ëŠ” ê°„ì„  ì—°ê²°
        workflow[pre_work - 1].append(i)
        in_degree[i] += 1
        # ì„ í–‰ ì‘ì—…ìœ¼ë¡œë¶€í„° ë“¤ì–´ì˜¤ëŠ” ê°„ì„  ì—°ê²°
        pre_workflow[i].append(pre_work - 1)

# í˜„ì¬ ì‘ì—…ê¹Œì§€ ì†Œìš”ëœ ì´ ì‹œê°„
dp = [0] * 10001

# ìœ„ìƒì •ë ¬ í
q = [0]
visit[0] = 1
total_time = 0
while q:
    cur = q.pop(0)

    # ì§„ì… ë…¸ë“œë“¤ì˜ ì‹œê°„ì„ ê¸°ë°˜ìœ¼ë¡œ í˜„ì¬ ì‹œê°„ì„ ì§€ì •
    pre_time = 0
    for i in range(len(pre_workflow[cur])):
        pre_time = max(pre_time, dp[pre_workflow[cur][i]])
    dp[cur] = pre_time + time[cur]
    total_time = max(total_time, dp[cur])

    # ë‹¤ìŒ ë…¸ë“œì˜ ì§„ì… ì°¨ìˆ˜ë¥¼ ì œê±°
    for i in range(len(workflow[cur])):
        node = workflow[cur][i]
        in_degree[node] -= 1

    # ì§„ì… ì°¨ìˆ˜ê°€ 0ì¸ ë…¸ë“œ íì— ì‚½ì…
    for i in range(N):
        if not visit[i] and in_degree[i] == 0:
            q.append(i)
            visit[i] = 1

print(total_time)
```

<br>

## 3. í•´ì„¤

ëª¨ë“  ë…¸ë“œì˜ ì§„ì…ë…¸ë“œ, ì§„ì¶œë…¸ë“œë¥¼ ê¸°ë¡í•˜ì—¬ ìœ„ìƒì •ë ¬ ìˆ˜í–‰
ìœ„ìƒ ì •ë ¬ ê³¼ì •ì—ì„œ ì§„ì… ë…¸ë“œë“¤ì˜ ìµœëŒ“ê°’ì„ ê°€ì ¸ì™€ ì„ í–‰ ì‘ì—…ì´ ëª¨ë‘ ëë‚˜ëŠ” ì‹œê°„ ê°€ì ¸ì˜´
ê·¸ ì‹œê°„ + í˜„ì¬ ì‘ì—…ì˜ ì‹œê°„ìœ¼ë¡œ ê±¸ë¦¬ëŠ” ì‹œê°„ì˜ í•©ì„ êµ¬í•¨
