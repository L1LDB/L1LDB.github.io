---
title: ğŸ¦Š ì¹´ë“œ ì„ê¸°
author: gengminy
date: 2023-09-23 20:00:00 +09:00
categories: [ì•Œê³ ë¦¬ì¦˜, ì¹´ë“œ ì„ê¸°]
tags: [ì•Œê³ ë¦¬ì¦˜, ë°±ì¤€, ê³¨ë“œ4, êµ¬í˜„, 1ì£¼ì°¨, ë…¸ê²½ë¯¼]
render_with_liquid: false
---

## 1. ë¬¸ì œ ë§í¬

[1091ë²ˆ: ì¹´ë“œ ì„ê¸°](https://www.acmicpc.net/problem/1091)

<br>
<br>

## 2. ì½”ë“œ

`Python3` / ë©”ëª¨ë¦¬: `31256KB` / ì‹œê°„: `1412ms`

```python
N = int(input())
P = list(map(int, input().split()))
S = list(map(int, input().split()))
result = 0
fail = False

# ì¹´ë“œ ìœ„ì¹˜, ì¹´ë“œ ìˆ«ì
origin_cards = [[i, i] for i in range(N)]
cards = origin_cards.copy()

# ëª©ì  ë‹¬ì„±í–ˆëŠ”ì§€ í™•ì¸
def success():
    # ì¹´ë“œ ìœ„ì¹˜ = P[i], ì¹´ë“œ ìˆ«ì = i
    sorted_cards = sorted(cards, key=lambda x: x[1])
    for i in range(N):
        location, num = sorted_cards[i]
        if location % 3 != P[i]:
            return False
    return True

# ì¹´ë“œ ì„ê¸°
def shuffle_cards():
    global result
    for i in range(N):
        cards[i][0] = S[i]
    result += 1
    cards.sort(key=lambda x: x[0])

# ë¶ˆê°€ëŠ¥í•œì§€
def check_fail():
    # ì¹´ë“œê°€ ì„ê¸° ì „ìœ¼ë¡œ ëŒì•„ì™”ëŠ”ë°ë„ ì„±ê³µí•˜ì§€ ëª»í•˜ë©´ ë¶ˆê°€ëŠ¥ 
    for i in range(N):
        ol, on = origin_cards[i]
        cl, cn = cards[i]
        if ol != cl or on != cn:
            return False
    return True

while True:
    if success():
        break
    shuffle_cards()
    if check_fail():
        fail = True
        break

if fail:
    print(-1)
else:
    print(result)
```


- í•´ì„¤
    
    â†’ ë°°ì—´ PëŠ” ì„ê¸° ì „ ì¹´ë“œê°€ ì–´ë–¤ í”Œë ˆì´ì–´ì—ê²Œ ë„ì°©í•´ì•¼í•˜ëŠ” ì§€ì— ëŒ€í•œ ì •ë³´ë¥¼ ë‹´ì€ ë°°ì—´ì´ë‹¤. 
    
    ì¹´ë“œ ìœ„ì¹˜, ì¹´ë“œ ìˆ«ì ì •ë³´ê°€ ë‹´ê¸´ origin_cards ë°°ì—´ì„ ì„ê¸° ì „ ìƒíƒœë¡œ ë‘” í›„ cards ë°°ì—´ì„ ë³€ê²½ì‹œí‚¤ë©° ì¹´ë“œë¥¼ ì„ëŠ”ë‹¤. 
    
    ëª©í‘œ ë‹¬ì„±ì„ í™•ì¸í•˜ë ¤ë©´ ì¹´ë“œ ìˆ«ìê°€ P ë°°ì—´ì˜ ì¸ë±ìŠ¤ì™€ ê°™ì•„ì•¼í•˜ê³ (num = i), ì¹´ë“œ ìœ„ì¹˜ê°€ P[i] ê°’ê³¼ ê°™ì•„ì•¼ í•œë‹¤(location = P[i]). ì´ë¥¼ ìœ„í•´ numì´ ì‘ì€ ìˆœëŒ€ë¡œ ì •ë ¬í•´ë‘” í›„ location = P[i]ë§Œ í™•ì¸í•˜ë©´ ëœë‹¤.
    
    í•´ë‹¹ ê°’ì´ ëª¨ë‘ ê°™ë‹¤ë©´ ì„±ê³µí•œ ê²ƒì´ë‹¤.
    
    ì¹´ë“œë¥¼ ì„ì„ ë•ŒëŠ” locationì˜ ìœ„ì¹˜ë§Œ ë³€ê²½í•œ í›„ ë‹¤ìŒì— ë˜ ì„ì„ ìˆ˜ ìˆë„ë¡ locationì„ ê¸°ì¤€ìœ¼ë¡œ ë‹¤ì‹œ ì •ë ¬í•œë‹¤.
    